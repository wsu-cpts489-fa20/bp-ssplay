(this["webpackJsonpspeedgolf-react"]=this["webpackJsonpspeedgolf-react"]||[]).push([[0],{25:function(e,t,a){e.exports=a(54)},33:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),o=a.n(s),l=(a(30),a(31),a(32),a(33),a(1)),i=a.n(l),c=a(7),u=a(2),d=a(3),m=a(5),p=a(4),h=a(6),b={LOGIN:"LoginMode",FEED:"FeedMode",ROUNDS:"RoundsMode",ROUNDS_LOGROUND:"RoundsMode-LogRound",ROUNDS_EDITROUND:"RoundsMode-EditRound",COURSES:"CoursesMode",COURSES_NEARBY:"CoursesMode-Nearby",COURSES_ALL:"CoursesMode-All",COURSES_ADD:"CoursesMode-ADD",COURSES_APPT:"CourseMode-APPT",COURSES_MYAPPT:"CourseMode-MYAPPT"};Object.freeze(b);var g=b,f=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getMenuBtnIcon=function(){return a.props.mode===g.COURSES_ADD||a.props.mode===g.ROUNDS_LOGROUND||a.props.mode===g.ROUNDS_EDITROUND?"fa fa-arrow-left":a.props.menuOpen?"fa fa-times":"fa fa-bars"},a.handleMenuBtnClick=function(){a.props.mode===g.ROUNDS_LOGROUND||a.props.mode===g.ROUNDS_EDITROUND?a.props.changeMode(g.ROUNDS):a.props.mode===g.COURSES_ADD?a.props.changeMode(g.COURSES):a.props.mode!==g.LOGIN&&a.props.toggleMenuOpen()},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar"+(this.props.aboutOpen?" ignore-click":"")},r.a.createElement("span",{className:"navbar-items"},r.a.createElement("button",{className:"sidemenu-btn",onClick:this.handleMenuBtnClick},r.a.createElement("span",{id:"menuBtnIcon",className:"sidemenu-btn-icon "+this.getMenuBtnIcon()})),r.a.createElement("img",{src:"http://tiny.cc/sslogo",alt:"Speed Score Logo",height:"38px",width:"38px"}),r.a.createElement("span",{className:"navbar-title"},"\xa0",this.props.title)))}}]),t}(r.a.Component),E=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).renderModeMenuItems=function(){switch(a.props.mode){case g.FEED:return r.a.createElement("div",null,r.a.createElement("a",{className:"sidemenu-item"},r.a.createElement("span",{className:"fa fa-users"}),"\xa0Followed Users"),r.a.createElement("a",{className:"sidemenu-item "},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Search Feed"));case g.ROUNDS:return r.a.createElement("div",null,r.a.createElement("a",{className:"sidemenu-item"},r.a.createElement("span",{className:"fa fa-plus"}),"\xa0Log New Round"),r.a.createElement("a",{className:"sidemenu-item"},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Search Rounds"));case g.COURSES:case g.COURSES_NEARBY:case g.COURSES_ALL:case g.COURSES_ADD:case g.COURSES_MYAPPT:case g.COURSES_APPT:return r.a.createElement("div",null,r.a.createElement("a",{id:"specificCourse",className:"sidemenu-item",onClick:function(){return a.props.changeMode(g.COURSES)}},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Specific Course"),r.a.createElement("a",{className:"sidemenu-item",onClick:function(){return a.props.changeMode(g.COURSES_NEARBY)}},r.a.createElement("span",{className:"fa fa-map-marker"}),"\xa0Nearby Courses"),r.a.createElement("a",{className:"sidemenu-item",onClick:function(){return a.props.changeMode(g.COURSES_ALL)}},r.a.createElement("span",{className:"fa fa-th-list"}),"\xa0All Speedgolf-Friendly Courses"),r.a.createElement("a",{id:"myAppointments",className:"sidemenu-item",onClick:function(){return a.props.changeMode(g.COURSES_MYAPPT)}},r.a.createElement("span",{className:"fa fa-th-list"}),"\xa0My Appointments"),"operator"===a.props.type?r.a.createElement("a",{id:"addCourse",className:"sidemenu-item",onClick:function(){return a.props.changeMode(g.COURSES_ADD)}},r.a.createElement("span",{className:"fa fa-plus"}),"\xa0Add a Course"):null,"operator"===a.props.type?r.a.createElement("a",{id:"allAppointments",className:"sidemenu-item",onClick:function(){return a.props.changeMode(g.COURSES_APPT)}},r.a.createElement("span",{className:"fa fa-eye"}),"\xa0View all Appointments"):null);default:return null}},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidemenu "+(this.props.menuOpen?"sidemenu-open":"sidemenu-closed"),onClick:this.props.toggleMenuOpen},r.a.createElement("div",{className:"sidemenu-title"},r.a.createElement("img",{src:this.props.profilePicURL,height:"60",width:"60"}),r.a.createElement("span",{id:"userID",className:"sidemenu-userID"},"\xa0",this.props.displayName)),this.renderModeMenuItems(),this.props.localAccount?r.a.createElement("a",{id:"accountBtn",className:"sidemenu-item",onClick:this.props.editAccount},r.a.createElement("span",{className:"fa fa-user"}),"\xa0Account"):null,r.a.createElement("a",{id:"addCardbtn",className:"sidemenu-item",onClick:this.props.toggleAddCardClicked},r.a.createElement("span",{className:"fa fa-plus"}),"\xa0Add Card"),r.a.createElement("a",{id:"aboutBtn",className:"sidemenu-item",onClick:this.props.showAbout},r.a.createElement("span",{className:"fa fa-info-circle"}),"\xa0About"),r.a.createElement("a",{id:"logOutBtn",className:"sidemenu-item",onClick:this.props.logOut},r.a.createElement("span",{className:"fa fa-sign-out-alt"}),"\xa0Log Out"))}}]),t}(r.a.Component),y=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modebar"+(this.props.mode===g.LOGIN?" invisible":this.props.menuOpen||this.props.aboutOpen?" ignore-click visible":" visible")},r.a.createElement("a",{className:this.props.mode===g.FEED?" item-selected":null,onClick:function(){return e.props.changeMode(g.FEED)}},r.a.createElement("span",{className:"modebaricon fa fa-th-list"}),r.a.createElement("span",{className:"modebar-text"},"Feed")),r.a.createElement("a",{className:this.props.mode===g.ROUNDS||this.props.mode===g.ROUNDS_EDITROUND||this.props.mode===g.ROUNDS_LOGROUND?" item-selected":null,onClick:function(){return e.props.changeMode(g.ROUNDS)}},r.a.createElement("span",{className:"modebar-icon  fa fa-history"}),r.a.createElement("span",{className:"modebar-text"},"Rounds")),r.a.createElement("a",{id:"courseMode",className:this.props.mode===g.COURSES||this.props.mode===g.COURSES_NEARBY||this.props.mode===g.COURSES_ALL?" item-selected":null,onClick:function(){return e.props.changeMode(g.COURSES)}},r.a.createElement("span",{className:"modebar-icon  fa fa-flag"}),r.a.createElement("span",{className:"modebar-text"},"Courses")))}}]),t}(r.a.Component),v=a(9),C=a(19),S=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleChange=function(){var t=e.emailRef.current.value===e.props.email;t!=e.state.emailMatches&&e.setState({emailMatches:t})},e.emailRef=r.a.createRef(),e.state={emailMatches:!1},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.emailRef.current.focus()}},{key:"render",value:function(){return r.a.createElement("div",{id:"aboutModal",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("center",null,r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Confirm Account Deletion"))),r.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.props.close},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Do you really want to delete your account? ",r.a.createElement("br",null),r.a.createElement("i",null,"This action cannot be undone.")),r.a.createElement("label",null,"Confirm Email (",this.props.email,"):",r.a.createElement("br",null),r.a.createElement("input",{className:"form-center",type:"text",ref:this.emailRef,onChange:this.handleChange})),r.a.createElement("br",null)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-danger",onClick:this.props.deleteAccount,disabled:!this.state.emailMatches},"Yes, Delete My Account"),r.a.createElement("button",{className:"btn btn-secondary",onClick:this.props.close},"No, Cancel"))))}}]),t}(r.a.Component),k=(a(18),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).checkDataValidity=function(){a.state.password!=a.state.passwordRepeat?a.repeatPassRef.current.setCustomValidity("This password must match password entered in previous field."):a.repeatPassRef.current.setCustomValidity("")},a.handleChange=function(e){var t,n=null==a.origAccountInfo||a.formIsUpdated(e.target.name,e.target.value);if("profilePic"===e.target.name)if(0==e.target.value.length)a.setState({profilePicURL:"https://icon-library.net//images/default-profile-icon/default-profile-icon-24.jpg",formUpdated:n},a.checkDataValidity);else{var r=Object(C.a)(a),s=new FileReader;s.readAsDataURL(a.profilePicRef.current.files[0]),s.addEventListener("load",(function(){r.setState({profilePicURL:this.result,formUpdated:n},this.checkDataValidity)}))}else a.setState((t={},Object(v.a)(t,e.target.name,e.target.value),Object(v.a)(t,"formUpdated",n),t),a.checkDataValidity)},a.formIsUpdated=function(e,t){return a.origAccountInfo[e]!=t||("type"!=e&&a.state.type!=a.origAccountInfo.type||("displayName"!=e&&a.state.displayName!=a.origAccountInfo.displayName||("profilePicURL"!=e&&a.state.profilePicURL!=a.origAccountInfo.profilePicURL||("password"!=e&&a.state.password!==a.origAccountInfo.password||("passwordRepeat"!=e&&a.state.passwordRepeat!==a.origAccountInfo.passwordRepeat||("securityQuestion"!=e&&a.state.securityQuestion!==a.origAccountInfo.securityQuestion||"securityAnswer"!=e&&a.state.securityAnswer!==a.origAccountInfo.securityAnswer))))))},a.setDefaultDisplayName=function(e){e.target.value.length>0&&""===a.state.displayName&&a.setState({displayName:e.target.value})},a.handleSubmit=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={type:a.state.type,displayName:a.state.displayName,password:a.state.password,profilePicURL:a.state.profilePicURL,securityQuestion:a.state.securityQuestion,securityAnswer:a.state.securityAnswer},r="/users/"+a.state.accountName,!a.props.create){e.next=17;break}return e.next=6,fetch(r,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 6:if(200!=(s=e.sent).status){e.next=11;break}a.props.done("New account created! Enter credentials to log in.",!1),e.next=15;break;case 11:return e.next=13,s.text();case 13:o=e.sent,a.props.done(o,!1);case 15:e.next=28;break;case 17:return e.next=19,fetch(r,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(n)});case 19:if(200!=(s=e.sent).status){e.next=24;break}a.props.done("User Account Updated!",!1),e.next=28;break;case 24:return e.next=26,s.text();case 26:l=e.sent,a.props.done(l,!1);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteAccount=Object(c.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/users/"+a.state.accountName,e.next=3,fetch(t,{method:"DELETE"});case 3:if(200!=(n=e.sent).status){e.next=8;break}a.props.done("Account '"+a.state.accountName+"' has been deleted.",!0),e.next=12;break;case 8:return e.next=10,n.text();case 10:r=e.sent,a.props.done(r,!1);case 12:a.setState({confirmDelete:!1});case 13:case"end":return e.stop()}}),e)}))),a.confirmDeleteAccount=function(e){e.preventDefault(),a.setState({confirmDelete:!0})},a.origAccountInfo=null,a.newUserRef=r.a.createRef(),a.repeatPassRef=r.a.createRef(),a.profilePicRef=r.a.createRef(),a.state={type:"user",accountName:"",displayName:"",profilePicURL:"https://icon-library.net//images/default-profile-icon/default-profile-icon-24.jpg",password:"",passwordRepeat:"",securityQuestion:"",securityAnswer:"",formUpdated:!1,confirmDelete:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.create){e.next=12;break}return t="/users/"+this.props.userId,e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,r=JSON.parse(n),this.origAccountInfo=r,this.origAccountInfo.passwordRepeat=r.password,this.setState({type:this.props.type,accountName:this.props.userId,displayName:r.displayName,profilePicURL:r.profilePicURL,password:r.password,passwordRepeat:r.password,securityQuestion:r.securityQuestion,securityAnswer:r.securityAnswer});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"}),r.a.createElement("div",{className:"modal-content form-center"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,r.a.createElement("b",null,this.props.create?"Create New Account":"Edit Account")),r.a.createElement("button",{className:"modal-close",onClick:this.props.cancel},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Type:",r.a.createElement("select",{name:"type",value:this.state.type,className:"form-control form-center",onChange:this.handleChange},r.a.createElement("option",{value:"user"},"User"),r.a.createElement("option",{value:"operator"},"Operator"))),r.a.createElement("br",null),r.a.createElement("label",null,"Email:",r.a.createElement("input",{autocomplete:"off",disabled:!this.props.create,className:"form-control form-text form-center",name:"accountName",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",required:!0,ref:this.newUserRef,value:this.state.accountName,onChange:this.handleChange,onBlur:this.setDefaultDisplayName})),r.a.createElement("br",null),r.a.createElement("label",null,"Password:",r.a.createElement("input",{autocomplete:"off",className:"form-control form-text form-center",name:"password",type:"password",size:"35",placeholder:"Enter Password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",required:!0,value:this.state.password,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Repeat Password:",r.a.createElement("input",{className:"form-control form-text form-center",name:"passwordRepeat",type:"password",size:"35",placeholder:"Repeat Password",required:!0,ref:this.repeatPassRef,value:this.state.passwordRepeat,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Display Name:",r.a.createElement("input",{className:"form-control form-text form-center",name:"displayName",type:"text",size:"30",placeholder:"Display Name",required:!0,value:this.state.displayName,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Profile Picture:",r.a.createElement("br",null),r.a.createElement("input",{className:"form-control form-text form-center",name:"profilePic",type:"file",accept:"image/x-png,image/gif,image/jpeg",ref:this.profilePicRef,value:this.state.profilePic,onChange:this.handleChange}),r.a.createElement("img",{src:""!=this.state.profilePicURL?this.state.profilePicURL:this.state.profilePicDataURL,height:"60",width:"60"})),r.a.createElement("br",null),r.a.createElement("label",null,"Security Question:",r.a.createElement("textarea",{className:"form-control form-text form-center",name:"securityQuestion",size:"35",placeholder:"Security Question",rows:"2",cols:"35",maxLength:"100",required:!0,value:this.state.securityQuestion,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Answer to Security Question:",r.a.createElement("textarea",{className:"form-control form-text form-center",name:"securityAnswer",type:"text",placeholder:"Answer",rows:"2",cols:"35",maxLength:"100",required:!0,value:this.state.securityAnswer,onChange:this.handleChange})),r.a.createElement("br",null),this.props.create?null:r.a.createElement("button",{className:"btn btn-small btn-danger",onClick:this.confirmDeleteAccount},"Delete Account..."),r.a.createElement("br",null),r.a.createElement("br",null),this.props.create?null:r.a.createElement("button",{type:"button",className:"btn btn-small btn-primary",onClick:this.toggleAddCardClicked,disabled:1===this.state.card},"Add Card"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{role:"submit",disabled:!this.state.formUpdated,className:"btn btn-primary btn-color-theme modal-submit-btn"},r.a.createElement("span",{className:this.props.create?"fa fa-user-plus":"fa fa-user"}),"\xa0",this.props.create?"Create Account":"Update Account")))),this.state.confirmDelete?r.a.createElement(S,{email:this.state.accountName,deleteAccount:this.deleteAccount,close:function(){return e.setState({confirmDelete:!1})}}):null)}}]),t}(r.a.Component)),O=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.resetPasswordRef.current.value===e.resetPasswordRepeatRef.current.value?e.props.resetPassword(e.resetPasswordRef.current.value):(e.resetPasswordRepeatRef.current.focus(),e.setState({errorMsg:"The passwords you entered do not match. Please try again."}))},e.checkForSubmit=function(t){"Enter"===t.code&&(t.preventDefault(),e.handleSubmit())},e.resetPasswordRef=r.a.createRef(),e.resetPasswordRepeatRef=r.a.createRef(),e.state={errorMsg:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Reset Password")),r.a.createElement("button",{className:"modal-close",onClick:this.props.cancelResetPassword},"\xd7")),r.a.createElement("div",{className:"modal-body"},""!=this.state.errorMsg?r.a.createElement("p",{className:"emphasis"},this.state.errorMsg):null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"New Password:",r.a.createElement("input",{type:"password",placeholder:"Enter new password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",className:"form-control form-text",ref:this.resetPasswordRef})),r.a.createElement("label",null,"Repeat New Password:",r.a.createElement("input",{type:"password",placeholder:"Repeat new password",className:"form-control form-text",onKeyUp:this.checkForSubmit,ref:this.resetPasswordRepeatRef})),r.a.createElement("button",{role:"submit",className:"btn btn-primary btn-color-theme form-submit-btn"},r.a.createElement("span",{className:"fa fa-key"}),"\xa0Reset Password"))))))}}]),t}(r.a.Component),N=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleLookUpAccount=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,fetch("/users/"+e.emailRef.current.value);case 3:if(200!=(n=t.sent).status){t.next=12;break}return t.next=7,n.json();case 7:r=t.sent,"local"===(s=JSON.parse(r)).authStrategy?e.props.getSecurityAnswer(s.id,s.securityQuestion,s.securityAnswer):e.setState({ErrMsg:"That account is authenticated through "+s.authStrategy+". Please log in to "+s.authStrategy+" to reset the password."}),t.next=13;break;case 12:e.setState({errorMsg:"Sorry, there is no account associated with '"+e.emailRef.current.value+"'."});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.emailRef=r.a.createRef(),e.state={errorMsg:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Look Up Account")),r.a.createElement("button",{className:"modal-close",onClick:function(){t.props.cancelResetPassword()}},"\xd7")),r.a.createElement("div",{className:"modal-body"},""!=this.state.errMsg?r.a.createElement("p",{className:"emphasis"},this.state.errorMsg):null,r.a.createElement("form",{onSubmit:this.handleLookUpAccount},r.a.createElement("label",null,"Account Email Address:",r.a.createElement("input",(e={ref:this.emailRef,className:"form-control form-text",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}"},Object(v.a)(e,"ref",this.emailRef),Object(v.a)(e,"required",!0),e))),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-color-theme form-submit-btn"},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Look Up Account"))))))}}]),t}(r.a.Component),A=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.securityAnswerRef.current.value===e.props.answer?e.props.getNewPassword():(e.securityAnswerRef.current.focus(),e.setState({errorMsg:"Sorry, that is not the correct answer to the security question. Try again."}))},e.securityAnswerRef=r.a.createRef(),e.state={errorMsg:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.securityAnswerRef.current.focus()}},{key:"render",value:function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Answer Security Question")),r.a.createElement("button",{className:"modal-close",onClick:this.props.cancelResetPassword},"\xd7")),r.a.createElement("div",{className:"modal-body"},""!=this.state.errorMsg?r.a.createElement("p",{className:"emphasis"},this.state.errorMsg):null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Security Question:",r.a.createElement("textarea",{readOnly:!0,value:this.props.question,className:"form-control form-text",rows:"3",cols:"35"})),r.a.createElement("label",null,"Security Answer:",r.a.createElement("textarea",{className:"form-control form-text",placeholder:"Enter Security Question Answer",ref:this.securityAnswerRef,rows:"3",cols:"35"})),r.a.createElement("button",{role:"submit",className:"btn btn-primary btn-color-theme form-submit-btn"},r.a.createElement("span",{className:"fa fa-check"}),"\xa0Verify Answer"))))))}}]),t}(r.a.Component),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleLoginSubmit=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loginBtnIcon:"fa fa-spin fa-spinner",loginBtnLabel:"Logging In..."}),n="auth/login?username="+e.emailInputRef.current.value+"&password="+e.passwordInputRef.current.value,t.next=5,fetch(n,{method:"POST"});case 5:if(200!=(r=t.sent).status){t.next=10;break}window.open("/","_self"),t.next=14;break;case 10:return t.next=12,r.text();case 12:s=t.sent,e.setState({loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",statusMsg:s});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.accountCreateDone=function(t){e.setState({statusMsg:t,showCreateAccountDialog:!1})},e.cancelCreateAccount=function(){e.setState({showCreateAccountDialog:!1})},e.cancelResetPassword=function(){e.resetUserId="",e.resetQ="",e.resetA="",e.setState({showLookUpAccountDialog:!1,showSecurityQuestionDialog:!1,showResetPaswordDialog:!1})},e.handleOAuthLogin=function(e){window.open("/auth/".concat(e),"_self")},e.handleOAuthLoginClick=function(t){var a;e.setState((a={},Object(v.a)(a,t+"Icon","fa fa-spin fa-spinner"),Object(v.a)(a,t+"Label","Connecting..."),a)),setTimeout((function(){return e.handleOAuthLogin(t)}),1e3)},e.getSecurityAnswer=function(t,a,n){e.resetUserId=t,e.resetQ=a,e.resetA=n,e.setState({showLookUpAccountDialog:!1,showSecurityQuestionDialog:!0})},e.getNewPassword=function(){e.setState({showSecurityQuestionDialog:!1,showResetPaswordDialog:!0})},e.resetPassword=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/users/"+e.resetUserId,t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({password:a})});case 3:if(200!=(r=t.sent).status){t.next=8;break}e.setState({showResetPaswordDialog:!1,statusMsg:"Password successfully reset!"}),t.next=12;break;case 8:return t.next=10,r.text();case 10:s=t.sent,e.setState({showResetPasswordDialog:!1,statusMsg:s});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.accountCreateDone=function(t,a){e.setState({statusMsg:t,showCreateAccountDialog:!1})},e.closeStatusMsg=function(){e.setState({statusMsg:""})},e.cancelCreateAccount=function(){e.setState({showCreateAccountDialog:!1})},e.emailInputRef=r.a.createRef(),e.resetUserId="",e.resetQ="",e.resetA="",e.passwordInputRef=r.a.createRef(),e.state={statusMsg:"",loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",showLookUpAccountDialog:!1,showSecurityQuestionDialog:!1,showResetPaswordDialog:!1,githubIcon:"fa fa-github",githubLabel:"Sign in with GitHub",loginMsg:"",newAccountCreated:!1,googleIcon:"fa fa-google",googleLabel:"Sign in with Google"},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.emailInputRef.current.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("center",null,""!=this.state.statusMsg?r.a.createElement("div",{className:"status-msg"},r.a.createElement("span",null,this.state.statusMsg),r.a.createElement("button",{className:"modal-close",onClick:this.closeStatusMsg},r.a.createElement("span",{className:"fa fa-times"}))):null,this.state.showLookUpAccountDialog?r.a.createElement(N,{cancelResetPassword:this.cancelResetPassword,getSecurityAnswer:this.getSecurityAnswer}):null,this.state.showSecurityQuestionDialog?r.a.createElement(A,{cancelResetPassword:this.cancelResetPassword,question:this.resetQ,answer:this.resetA,getNewPassword:this.getNewPassword}):null,this.state.showResetPaswordDialog?r.a.createElement(O,{cancelResetPassword:this.cancelResetPassword,resetPassword:this.resetPassword}):null,r.a.createElement("form",{id:"loginInterface",onSubmit:this.handleLoginSubmit},r.a.createElement("label",{htmlFor:"emailInput",style:{padding:0,fontSize:24}},"Email:",r.a.createElement("input",{ref:this.emailInputRef,className:"form-control login-text",type:"email",placeholder:"Enter Email Address",id:"emailInput",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",required:!0})),r.a.createElement("p",null),r.a.createElement("label",{htmlFor:"passwordInput",style:{padding:0,fontSize:24}},"Password:",r.a.createElement("input",{ref:this.passwordInputRef,className:"form-control login-text",type:"password",id:"passwordInput",placeholder:"Enter Password",pattern:"[A-Za-z0-9!@#$%^&*()_+\\-]+",required:!0})),r.a.createElement("p",{className:"bg-danger",id:"feedback",style:{fontSize:16}}),r.a.createElement("button",{type:"submit",className:"btn-color-theme btn btn-primary btn-block login-btn"},r.a.createElement("span",{id:"login-btn-icon",className:this.state.loginBtnIcon}),"\xa0",this.state.loginBtnLabel),r.a.createElement("p",null,r.a.createElement("button",{type:"button",className:"btn btn-link login-link",onClick:function(){e.setState({showCreateAccountDialog:!0})}},"Create an account")," |",r.a.createElement("button",{type:"button",className:"btn btn-link login-link",onClick:function(){e.setState({showLookUpAccountDialog:!0})}},"Reset your password")),r.a.createElement("button",{id:"github-login-btn",type:"button",className:"btn btn-github",onClick:function(){return e.handleOAuthLoginClick("github")}},r.a.createElement("span",{className:this.state.githubIcon}),"\xa0",this.state.githubLabel),r.a.createElement("button",{id:"google-login-btn",type:"button",className:"btn btn-google",onClick:function(){return e.handleOAuthLoginClick("google")}},r.a.createElement("span",{className:this.state.googleIcon}),"\xa0",this.state.googleLabel),r.a.createElement("p",null,r.a.createElement("i",null,"Version CptS 489"))),this.state.showCreateAccountDialog?r.a.createElement(k,{create:!0,done:this.accountCreateDone,cancel:this.cancelCreateAccount}):null,this.state.showResetPasswordDialog?r.a.createElement(O,null):null))}}]),t}(r.a.Component),M=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"feedMode",className:"padded-page"},r.a.createElement("center",null,r.a.createElement("h1",null,"Activity Feed"),r.a.createElement("h2",null,"This page is under construction."),r.a.createElement("img",{src:"https://dl.dropboxusercontent.com/s/qpjhy9x9gwdxpob/SpeedScoreLogo64Trans.png",height:"200",width:"200"}),r.a.createElement("p",{style:{fontStyle:"italic"}},"Version CptS 489 React Demo")))}}]),t}(r.a.Component),D=a(20),R=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"aboutModal",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("center",null,r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Confirm Round Deletion"))),r.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.props.close},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Do you really want to delete this round?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-danger",onClick:this.props.deleteRound},"Yes, Delete"),r.a.createElement("button",{className:"btn btn-secondary",onClick:this.props.close},"No, Cancel"))))}}]),t}(r.a.Component),T=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).editRound=function(t){e.props.setEditId(t),e.props.changeMode(g.ROUNDS_EDITROUND)},e.deleteRound=function(){e.props.deleteRound(),e.setState({showConfirmDelete:!1})},e.confirmDelete=function(t){e.props.setDeleteId(t),e.setState({showConfirmDelete:!0})},e.renderTable=function(){for(var t=[],a=function(a){t.push(r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.props.rounds[a].date.substring(0,10)),r.a.createElement("td",null,e.props.rounds[a].course),r.a.createElement("td",null,Number(e.props.rounds[a].strokes)+Number(e.props.rounds[a].minutes)+":"+(e.props.rounds[a].seconds<10?"0"+e.props.rounds[a].seconds:e.props.rounds[a].seconds)+" ("+e.props.rounds[a].strokes+" in "+e.props.rounds[a].minutes+":"+(e.props.rounds[a].seconds<10?"0"+e.props.rounds[a].seconds:e.props.rounds[a].seconds)+")"),r.a.createElement("td",null,r.a.createElement("button",{onClick:e.props.menuOpen?null:function(){return e.editRound(a)}},r.a.createElement("span",{className:"fa fa-eye"}))),r.a.createElement("td",null,r.a.createElement("button",{onClick:e.props.menuOpen?null:function(){return e.confirmDelete(a)}},r.a.createElement("span",{className:"fa fa-trash"})))))},n=0;n<e.props.rounds.length;++n)a(n);return t},e.state={showConfirmDelete:!1},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"padded-page"},r.a.createElement("h1",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Course"),r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"View/Edit..."),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,0===Object.keys(this.props.rounds).length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5",style:{fontStyle:"italic"}},"No rounds logged")):this.renderTable())),this.state.showConfirmDelete?r.a.createElement(R,{close:function(){return e.setState({showConfirmDelete:!1})},deleteRound:this.deleteRound}):null)}}]),t}(r.a.Component),P=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;if("seconds"===t){var n=e.target.value.length<2?"0"+e.target.value:e.target.value,r=a.computeSGS(a.state.strokes,a.state.minutes,n);a.setState({seconds:n,SGS:r})}else if("strokes"===t){var s=e.target.value,o=a.computeSGS(s,a.state.minutes,a.state.seconds);a.setState({strokes:s,SGS:o})}else if("minutes"===t){var l=e.target.value,i=a.computeSGS(a.state.strokes,l,a.state.seconds);a.setState({minutes:l,SGS:i})}else a.setState(Object(v.a)({},t,e.target.value))},a.handleSubmit=function(e){a.setState({faIcon:"fa fa-spin fa-spinner",btnLabel:a.props.mode===g.ROUNDS_LOGROUND?"Saving...":"Updating..."});var t=a.state;delete t.faIcon,delete t.btnLabel,setTimeout(a.props.saveRound,1e3,t),e.preventDefault()},a.computeSGS=function(e,t,a){return Number(e)+Number(t)+":"+a};var n=new Date(Date.now()-6e4*(new Date).getTimezoneOffset());if(a.props.mode===g.ROUNDS_LOGROUND)a.state={date:n.toISOString().substr(0,10),course:"",type:"practice",holes:"18",strokes:80,minutes:50,seconds:"00",notes:"",faIcon:"fa fa-save",btnLabel:"Save Round Data"};else{var r=Object(D.a)({},a.props.startData);delete r.id,r.faIcon="fa fa-edit",r.btnLabel="Update Round Data",a.state=r}return a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"padded-page",onSubmit:this.handleSubmit},r.a.createElement("center",null,r.a.createElement("label",null,"Date:",r.a.createElement("input",{name:"date",className:"form-control form-center",type:"date",value:this.state.date,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("label",null,"Course:",r.a.createElement("input",{name:"course",className:"form-control form-center",type:"text",value:this.state.course,onChange:this.handleChange,placeholder:"Course played",size:"50",maxLength:"50"})),r.a.createElement("p",null),r.a.createElement("label",null,"Type:",r.a.createElement("select",{name:"type",value:this.state.type,className:"form-control form-center",onChange:this.handleChange},r.a.createElement("option",{value:"practice"},"Practice"),r.a.createElement("option",{value:"tournament"},"Tournament"))),r.a.createElement("p",null),r.a.createElement("label",null,"# Holes:",r.a.createElement("select",{name:"holes",value:this.state.holes,className:"form-control form-center",onChange:this.handleChange},r.a.createElement("option",{value:"9"},"9"),r.a.createElement("option",{value:"18"},"18"))),r.a.createElement("p",null),r.a.createElement("label",null,"# Strokes:",r.a.createElement("input",{name:"strokes",className:"form-control form-center",type:"number",min:"9",max:"200",value:this.state.strokes,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("label",null,"Time: ",r.a.createElement("br",null),r.a.createElement("input",{name:"minutes",type:"number",size:"3",min:"10",max:"400",value:this.state.minutes,onChange:this.handleChange}),":",r.a.createElement("input",{name:"seconds",type:"number",size:"2",min:"0",max:"60",value:this.state.seconds,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("label",null,"Speedgolf Score: ",r.a.createElement("br",null),r.a.createElement("input",{name:"SGS",className:"form-center",type:"text",size:"6",disabled:!0,value:this.computeSGS(this.state.strokes,this.state.minutes,this.state.seconds)})),r.a.createElement("p",null),r.a.createElement("label",null,"Notes:",r.a.createElement("textarea",{name:"notes",className:"form-control",rows:"6",cols:"75",placeholder:"Enter round notes",value:this.state.notes,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("button",{type:"submit",style:{width:"70%",fontSize:"36px"},className:"btn btn-primary btn-color-theme"},r.a.createElement("span",{className:this.state.faIcon}),"\xa0",this.state.btnLabel)))}}]),t}(r.a.Component),j=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"floatbtn",onClick:this.props.handleClick},r.a.createElement("span",{className:"floatbtn-icon fa fa-plus"}))}}]),t}(r.a.Component),x=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).addRound=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/rounds/"+e.props.userObj.id,t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)});case 3:return r=t.sent,t.next=6,r.text();case 6:s=t.sent,200!=r.status?(e.setState({errorMsg:s}),e.props.changeMode(g.ROUNDS)):(e.setState({errorMsg:""}),e.props.refreshOnUpdate(g.ROUNDS));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editRound=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/rounds/"+e.props.userObj.id+"/"+e.props.userObj.rounds[e.editId]._id,t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(a)});case 3:return r=t.sent,t.next=6,r.text();case 6:s=t.sent,200!=r.status?(e.setState({errorMsg:s}),e.props.changeMode(g.ROUNDS)):e.props.refreshOnUpdate(g.ROUNDS);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteRound=Object(c.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/rounds/"+e.props.userObj.id+"/"+e.props.userObj.rounds[e.deleteId]._id,t.next=3,fetch(a,{method:"DELETE"});case 3:return n=t.sent,t.next=6,n.text();case 6:r=t.sent,200!=n.status?(e.setState({errorMsg:"An error occurred when attempting to delete round from database: "+r}),e.props.changeMode(g.ROUNDS)):e.props.refreshOnUpdate(g.ROUNDS);case 8:case"end":return t.stop()}}),t)}))),e.setDeleteId=function(t){e.deleteId=t,e.setState({errorMsg:""})},e.setEditId=function(t){e.editId=t,e.setState({errorMsg:""})},e.closeErrorMsg=function(){e.setState({errorMsg:""})},e.deleteId="",e.editId="",e.state={errorMsg:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;switch(this.props.mode){case g.ROUNDS:return r.a.createElement(r.a.Fragment,null,""!=this.state.errorMsg?r.a.createElement("div",{className:"status-msg"},r.a.createElement("span",null,this.state.errorMsg),r.a.createElement("button",{className:"modal-close",onClick:this.closeErrorMsg},r.a.createElement("span",{className:"fa fa-times"}))):null,r.a.createElement(T,{rounds:this.props.userObj.rounds,setEditId:this.setEditId,setDeleteId:this.setDeleteId,deleteRound:this.deleteRound,changeMode:this.props.changeMode,menuOpen:this.props.menuOpen}),r.a.createElement(j,{handleClick:function(){return e.props.changeMode(g.ROUNDS_LOGROUND)},menuOpen:this.props.menuOpen,icon:"fa fa-plus"}));case g.ROUNDS_LOGROUND:return r.a.createElement(P,{mode:this.props.mode,startData:"",saveRound:this.addRound});case g.ROUNDS_EDITROUND:var t=Object(D.a)({},this.props.userObj.rounds[this.editId]);return t.date=t.date.substr(0,10),t.seconds<10&&(t.seconds="0"+t.seconds),delete t.SGS,r.a.createElement(P,{mode:this.props.mode,startData:t,saveRound:this.editRound})}}}]),t}(r.a.Component),I=a(56),U=a(59),B=a(60),L=a(57),_=a(58),G=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).getSearchedCourse=function(){var t=Object(c.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("/courses/"+a).then((function(e){if(200==e.status)return e.json();throw Error(e.statusText)})).then((function(t){console.log("GET RATES SUCCESS!");var a=JSON.parse(t);e.setState({courseName:a.courseName,id:a.id,course:r.a.createElement(I.a,{style:{marginTop:"20px",marginBottom:"50px"}},r.a.createElement(U.a,{key:a.id,style:{width:"30rem",display:"flex"}},r.a.createElement(U.a.Img,{className:"course-image",variant:"top",src:a.picture}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,"Location: ",a.location),r.a.createElement(U.a.Text,null,"RATES: ALL WEEK"),r.a.createElement(U.a.Text,null,"STANDARD: $",a.rateStandard),r.a.createElement(U.a.Text,null,"SENIOR: $",a.rateSenior)),r.a.createElement(U.a.Footer,null,"Rates and policies are subject to change without notice.")))})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={id:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getSearchedCourse(this.props.course)}},{key:"render",value:function(){return r.a.createElement("div",{id:"ratesModal",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,this.state.courseName),r.a.createElement("button",{className:"modal-close",onClick:this.props.handleClose},"\xd7")),r.a.createElement("center",null,r.a.createElement("div",{className:"modal-body"},r.a.createElement(L.a,{fluid:!0},r.a.createElement(_.a,{noGutters:!0},this.state.course)))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-primary btn-color-theme",onClick:this.props.handleClose},"OK")))))}}]),t}(r.a.Component),F=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).toggleReviewClicked=function(){e.setState((function(e){return{reviewClicked:!e.reviewClicked}}))},e.getSearchedCourse=function(){var t=Object(c.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("/courses/"+a).then((function(t){if(200==t.status)return t.json();throw e.setErrorMsg("ERROR: "+t.statusText),Error(t.statusText)})).then((function(t){console.log("GET SEARCH COURSES SUCCESS!");var a=JSON.parse(t);e.setState({courseName:a.courseName,id:a.id,rating:a.rating,review:a.review,picture:a.picture,location:a.location,yardage:a.yardage,runningDistance:a.runningDistance,timePar:a.timePar,bestScore:a.bestScore,recordHolder:a.recordHolder,rateSenior:a.rateSenior,rateStandard:a.rateStandard,availability:a.availability,course:r.a.createElement(I.a,{style:{marginTop:"20px",marginBottom:"50px"}},r.a.createElement(U.a,{key:a.id,style:{width:"30rem",display:"flex"}},r.a.createElement(U.a.Img,{className:"course-image",variant:"top",src:a.picture}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,"Location: ",a.location),r.a.createElement(U.a.Text,null,"Yardage: ",a.yardage),r.a.createElement(U.a.Text,null,"Running Distance: ",a.runningDistance),r.a.createElement(U.a.Text,null,"Time Par: ",a.timePar),r.a.createElement(U.a.Text,null,"Best Score: ",a.bestScore),r.a.createElement(U.a.Text,null,"Record Holder: ",a.recordHolder)),r.a.createElement(U.a.Footer,null,"Rating: ",a.rating,r.a.createElement("br",null),"Review: ",a.review),r.a.createElement(B.a,{onClick:e.toggleReviewClicked},"Leave A Review:")))})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editCourse=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/courses/"+e.state.id,t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(a)});case 3:return r=t.sent,t.next=6,r.text();case 6:s=t.sent,console.log(s),200===r.status?(e.toggleReviewClicked(),e.props.handleClose(),window.location.reload(!1)):alert(s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(t){t.preventDefault();var a={courseName:e.state.courseName,id:e.state.id,rating:e.state.rating,review:e.state.review,picture:e.state.picture,location:e.state.location,yardage:e.state.yardage,runningDistance:e.state.runningDistance,timePar:e.state.timePar,bestScore:e.state.bestScore,recordHolder:e.state.recordHolder,rateSenior:e.state.rateSenior,rateStandard:e.state.rateStandard,availability:e.state.availability};e.editCourse(a)},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.state={id:"",reviewClicked:!1,review:"",rating:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getSearchedCourse(this.props.course)}},{key:"render",value:function(){return r.a.createElement("div",{id:"moreModal",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,this.state.courseName),r.a.createElement("button",{className:"modal-close",onClick:this.props.handleClose},"\xd7")),this.state.reviewClicked?r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,"Leaving A Review"),r.a.createElement("button",{className:"modal-close",onClick:this.toggleReviewClicked},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(L.a,{fluid:!0},r.a.createElement(_.a,{noGutters:!0},r.a.createElement("label",null,"Rating:",r.a.createElement("select",{name:"rating",value:this.state.rating,className:"form-control form-center",onChange:this.handleChange},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"))),r.a.createElement("p",null),r.a.createElement("label",null,"Review:",r.a.createElement("textarea",{name:"review",className:"form-control",rows:"6",cols:"75",placeholder:"Enter round notes",value:this.state.review,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement(B.a,{type:"submit"},"Submit Review"))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-primary btn-color-theme",onClick:this.toggleReviewClicked},"OK"))))):null,r.a.createElement("div",{className:"modal-body"},r.a.createElement(L.a,{fluid:!0},r.a.createElement(_.a,{noGutters:!0},this.state.course))))))}}]),t}(r.a.Component),q=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()),z=new Date(q);z.setDate(z.getDate()+1);var H=new Date(z);H.setDate(H.getDate()+1);var J=new Date(H);J.setDate(J.getDate()+1);var Y=new Date(J);Y.setDate(Y.getDate()+1);var Q=new Date(Y);Q.setDate(Q.getDate()+1);var V=new Date(Q);V.setDate(V.getDate()+1);var W,Z,$,K,X,ee=q.toISOString().substring(0,10),te=z.toISOString().substring(0,10),ae=H.toISOString().substring(0,10),ne=J.toISOString().substring(0,10),re=Y.toISOString().substring(0,10),se=Q.toISOString().substring(0,10),oe=V.toISOString().substring(0,10),le=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).toggleSetTeeTimeClicked=function(){a.setState((function(e){return{setTeeTimeClick:!e.setTeeTimeClick}})),console.log(a.state.setTeeTimeClick),a.state.setTeeTimeClick?document.getElementById("bookingTeeTimeForm").removeAttribute("hidden"):document.getElementById("bookingTeeTimeForm").setAttribute("hidden",!0)},a.getAllAppointments=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"/allappointments_op/",fetch("/allappointments_op/").then((function(e){if(200==e.status)return e.json();throw Error(e.statusText)})).then((function(e){console.log("GET SUCCESS!");var t=JSON.parse(e);a.setState({appointments:t.map((function(e){return{username:e.username,courseName:e.courseName,date:e.date,time:e.time}}))})})).catch((function(e){console.log("GET ERROR!")}));case 2:case"end":return e.stop()}}),e)}))),a.getSearchedCourse=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/courses/"+t).then((function(e){if(200==e.status)return e.json();throw Error(e.statusText)})).then((function(e){console.log("GET SEARCH COURSES SUCCESS!");var t=JSON.parse(e);a.setState({course:t})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleBookTeeTime=function(e){e.preventDefault(),console.log("Booking tee time");var t={userId:a.props.userObj.id,username:a.props.userObj.displayName,courseName:a.props.courseName,date:a.state.bookingDate,time:a.state.bookingTime,paid:"false"};console.log(a.state.course.availability),a.bruhFunction();var n={id:a.state.course.id,rating:a.state.course.rating,review:a.state.course.review,picture:a.state.course.picture,location:a.state.course.location,yardage:a.state.course.yardage,runningDistance:a.state.course.runningDistance,timePar:a.state.course.timePar,bestScore:a.state.course.bestScore,recordHolder:a.state.course.recordHolder,rateSenior:a.state.course.rateSenior,rateStandard:a.state.course.rateStandard,courseName:a.state.course.courseName,availability:a.state.course.availability};console.log(a.state.course.availability),a.editCourse(n),a.addAppointment(t),a.addAppointment_op(t),alert("Tee Time Booked!"),a.props.handleClose()},a.addAppointment_op=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/appointments_op/",e.next=3,fetch("/appointments_op/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.text();case 6:r=e.sent,console.log(r),200===n.status&&a.props.mode===g.COURSES?a.props.refreshOnUpdate(g.COURSES):a.props.refreshOnUpdate(g.COURSES_ALL);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addAppointment=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/appointments/"+a.props.userObj.id,e.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.text();case 6:s=e.sent,console.log(s),200===r.status&&a.props.mode===g.COURSES?a.props.refreshOnUpdate(g.COURSES):a.props.refreshOnUpdate(g.COURSES_ALL);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.editCourse=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/courses/"+a.props.course,e.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.text();case 6:s=e.sent,console.log(s),200===r.status?(alert("Tee Time Booked!"),a.props.mode===g.COURSES?a.props.refreshOnUpdate(g.COURSES):a.props.refreshOnUpdate(g.COURSES_ALL)):a.props.refreshOnUpdate(g.COURSES_ALL);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.handleClick=function(){switch(document.getElementById("9:00 AM").setAttribute("hidden",!0),document.getElementById("10:00 AM").setAttribute("hidden",!0),document.getElementById("11:00 AM").setAttribute("hidden",!0),document.getElementById("12:00 PM").setAttribute("hidden",!0),document.getElementById("1:00 PM").setAttribute("hidden",!0),document.getElementById("2:00 PM").setAttribute("hidden",!0),document.getElementById("3:00 PM").setAttribute("hidden",!0),document.getElementById("4:00 PM").setAttribute("hidden",!0),document.getElementById("5:00 PM").setAttribute("hidden",!0),console.log(a.state.course.availability),a.state.bookingDate){case ee:for(var e=0;e<a.state.course.availability.day1.length;e++)if(a.state.course.availability.day1[e])switch(e){case 0:document.getElementById("9:00 AM").removeAttribute("hidden");break;case 1:document.getElementById("10:00 AM").removeAttribute("hidden");break;case 2:document.getElementById("11:00 AM").removeAttribute("hidden");break;case 3:document.getElementById("12:00 PM").removeAttribute("hidden");break;case 4:document.getElementById("1:00 PM").removeAttribute("hidden");break;case 5:document.getElementById("2:00 PM").removeAttribute("hidden");break;case 6:document.getElementById("3:00 PM").removeAttribute("hidden");break;case 7:document.getElementById("4:00 PM").removeAttribute("hidden");break;case 8:document.getElementById("5:00 PM").removeAttribute("hidden")}break;case te:for(e=0;e<a.state.course.availability.day2.length;e++)if(a.state.course.availability.day2[e])switch(e){case 0:document.getElementById("9:00 AM").removeAttribute("hidden");break;case 1:document.getElementById("10:00 AM").removeAttribute("hidden");break;case 2:document.getElementById("11:00 AM").removeAttribute("hidden");break;case 3:document.getElementById("12:00 PM").removeAttribute("hidden");break;case 4:document.getElementById("1:00 PM").removeAttribute("hidden");break;case 5:document.getElementById("2:00 PM").removeAttribute("hidden");break;case 6:document.getElementById("3:00 PM").removeAttribute("hidden");break;case 7:document.getElementById("4:00 PM").removeAttribute("hidden");break;case 8:document.getElementById("5:00 PM").removeAttribute("hidden")}break;case ae:for(e=0;e<a.state.course.availability.day3.length;e++)if(a.state.course.availability.day3[e])switch(e){case 0:document.getElementById("9:00 AM").removeAttribute("hidden");break;case 1:document.getElementById("10:00 AM").removeAttribute("hidden");break;case 2:document.getElementById("11:00 AM").removeAttribute("hidden");break;case 3:document.getElementById("12:00 PM").removeAttribute("hidden");break;case 4:document.getElementById("1:00 PM").removeAttribute("hidden");break;case 5:document.getElementById("2:00 PM").removeAttribute("hidden");break;case 6:document.getElementById("3:00 PM").removeAttribute("hidden");break;case 7:document.getElementById("4:00 PM").removeAttribute("hidden");break;case 8:document.getElementById("5:00 PM").removeAttribute("hidden")}break;case ne:for(e=0;e<a.state.course.availability.day4.length;e++)if(a.state.course.availability.day4[e])switch(e){case 0:document.getElementById("9:00 AM").removeAttribute("hidden");break;case 1:document.getElementById("10:00 AM").removeAttribute("hidden");break;case 2:document.getElementById("11:00 AM").removeAttribute("hidden");break;case 3:document.getElementById("12:00 PM").removeAttribute("hidden");break;case 4:document.getElementById("1:00 PM").removeAttribute("hidden");break;case 5:document.getElementById("2:00 PM").removeAttribute("hidden");break;case 6:document.getElementById("3:00 PM").removeAttribute("hidden");break;case 7:document.getElementById("4:00 PM").removeAttribute("hidden");break;case 8:document.getElementById("5:00 PM").removeAttribute("hidden")}break;case re:for(e=0;e<a.state.course.availability.day5.length;e++)if(a.state.course.availability.day5[e])switch(e){case 0:document.getElementById("9:00 AM").removeAttribute("hidden");break;case 1:document.getElementById("10:00 AM").removeAttribute("hidden");break;case 2:document.getElementById("11:00 AM").removeAttribute("hidden");break;case 3:document.getElementById("12:00 PM").removeAttribute("hidden");break;case 4:document.getElementById("1:00 PM").removeAttribute("hidden");break;case 5:document.getElementById("2:00 PM").removeAttribute("hidden");break;case 6:document.getElementById("3:00 PM").removeAttribute("hidden");break;case 7:document.getElementById("4:00 PM").removeAttribute("hidden");break;case 8:document.getElementById("5:00 PM").removeAttribute("hidden")}break;case se:for(e=0;e<a.state.course.availability.day6.length;e++)if(a.state.course.availability.day6[e])switch(e){case 0:document.getElementById("9:00 AM").removeAttribute("hidden");break;case 1:document.getElementById("10:00 AM").removeAttribute("hidden");break;case 2:document.getElementById("11:00 AM").removeAttribute("hidden");break;case 3:document.getElementById("12:00 PM").removeAttribute("hidden");break;case 4:document.getElementById("1:00 PM").removeAttribute("hidden");break;case 5:document.getElementById("2:00 PM").removeAttribute("hidden");break;case 6:document.getElementById("3:00 PM").removeAttribute("hidden");break;case 7:document.getElementById("4:00 PM").removeAttribute("hidden");break;case 8:document.getElementById("5:00 PM").removeAttribute("hidden")}break;case oe:for(e=0;e<a.state.course.availability.day7.length;e++)if(a.state.course.availability.day7[e])switch(e){case 0:document.getElementById("9:00 AM").removeAttribute("hidden");break;case 1:document.getElementById("10:00 AM").removeAttribute("hidden");break;case 2:document.getElementById("11:00 AM").removeAttribute("hidden");break;case 3:document.getElementById("12:00 PM").removeAttribute("hidden");break;case 4:document.getElementById("1:00 PM").removeAttribute("hidden");break;case 5:document.getElementById("2:00 PM").removeAttribute("hidden");break;case 6:document.getElementById("3:00 PM").removeAttribute("hidden");break;case 7:document.getElementById("4:00 PM").removeAttribute("hidden");break;case 8:document.getElementById("5:00 PM").removeAttribute("hidden")}}},a.bruhFunction=function(){switch(a.state.bookingDate){case ee:"9:00 AM"===a.state.bookingTime&&(a.state.course.availability.day1[0]=!1),"10:00 AM"===a.state.bookingTime&&(a.state.course.availability.day1[1]=!1),"11:00 AM"===a.state.bookingTime&&(a.state.course.availability.day1[2]=!1),"12:00 PM"===a.state.bookingTime&&(a.state.course.availability.day1[3]=!1),"1:00 PM"===a.state.bookingTime&&(a.state.course.availability.day1[4]=!1),"2:00 PM"===a.state.bookingTime&&(a.state.course.availability.day1[5]=!1),"3:00 PM"===a.state.bookingTime&&(a.state.course.availability.day1[6]=!1),"4:00 PM"===a.state.bookingTime&&(a.state.course.availability.day1[7]=!1),"5:00 PM"===a.state.bookingTime&&(a.state.course.availability.day1[8]=!1);break;case te:"9:00 AM"===a.state.bookingTime&&(a.state.course.availability.day2[0]=!1),"10:00 AM"===a.state.bookingTime&&(a.state.course.availability.day2[1]=!1),"11:00 AM"===a.state.bookingTime&&(a.state.course.availability.day2[2]=!1),"12:00 PM"===a.state.bookingTime&&(a.state.course.availability.day2[3]=!1),"1:00 PM"===a.state.bookingTime&&(a.state.course.availability.day2[4]=!1),"2:00 PM"===a.state.bookingTime&&(a.state.course.availability.day2[5]=!1),"3:00 PM"===a.state.bookingTime&&(a.state.course.availability.day2[6]=!1),"4:00 PM"===a.state.bookingTime&&(a.state.course.availability.day2[7]=!1),"5:00 PM"===a.state.bookingTime&&(a.state.course.availability.day2[8]=!1);break;case ae:"9:00 AM"===a.state.bookingTime&&(a.state.course.availability.day3[0]=!1),"10:00 AM"===a.state.bookingTime&&(a.state.course.availability.day3[1]=!1),"11:00 AM"===a.state.bookingTime&&(a.state.course.availability.day3[2]=!1),"12:00 PM"===a.state.bookingTime&&(a.state.course.availability.day3[3]=!1),"1:00 PM"===a.state.bookingTime&&(a.state.course.availability.day3[4]=!1),"2:00 PM"===a.state.bookingTime&&(a.state.course.availability.day3[5]=!1),"3:00 PM"===a.state.bookingTime&&(a.state.course.availability.day3[6]=!1),"4:00 PM"===a.state.bookingTime&&(a.state.course.availability.day3[7]=!1),"5:00 PM"===a.state.bookingTime&&(a.state.course.availability.day3[8]=!1);break;case ne:"9:00 AM"===a.state.bookingTime&&(a.state.course.availability.day4[0]=!1),"10:00 AM"===a.state.bookingTime&&(a.state.course.availability.day4[1]=!1),"11:00 AM"===a.state.bookingTime&&(a.state.course.availability.day4[2]=!1),"12:00 PM"===a.state.bookingTime&&(a.state.course.availability.day4[3]=!1),"1:00 PM"===a.state.bookingTime&&(a.state.course.availability.day4[4]=!1),"2:00 PM"===a.state.bookingTime&&(a.state.course.availability.day4[5]=!1),"3:00 PM"===a.state.bookingTime&&(a.state.course.availability.day4[6]=!1),"4:00 PM"===a.state.bookingTime&&(a.state.course.availability.day4[7]=!1),"5:00 PM"===a.state.bookingTime&&(a.state.course.availability.day4[8]=!1);break;case re:"9:00 AM"===a.state.bookingTime&&(a.state.course.availability.day5[0]=!1),"10:00 AM"===a.state.bookingTime&&(a.state.course.availability.day5[1]=!1),"11:00 AM"===a.state.bookingTime&&(a.state.course.availability.day5[2]=!1),"12:00 PM"===a.state.bookingTime&&(a.state.course.availability.day5[3]=!1),"1:00 PM"===a.state.bookingTime&&(a.state.course.availability.day5[4]=!1),"2:00 PM"===a.state.bookingTime&&(a.state.course.availability.day5[5]=!1),"3:00 PM"===a.state.bookingTime&&(a.state.course.availability.day5[6]=!1),"4:00 PM"===a.state.bookingTime&&(a.state.course.availability.day5[7]=!1),"5:00 PM"===a.state.bookingTime&&(a.state.course.availability.day5[8]=!1);break;case se:"9:00 AM"===a.state.bookingTime&&(a.state.course.availability.day6[0]=!1),"10:00 AM"===a.state.bookingTime&&(a.state.course.availability.day6[1]=!1),"11:00 AM"===a.state.bookingTime&&(a.state.course.availability.day6[2]=!1),"12:00 PM"===a.state.bookingTime&&(a.state.course.availability.day6[3]=!1),"1:00 PM"===a.state.bookingTime&&(a.state.course.availability.day6[4]=!1),"2:00 PM"===a.state.bookingTime&&(a.state.course.availability.day6[5]=!1),"3:00 PM"===a.state.bookingTime&&(a.state.course.availability.day6[6]=!1),"4:00 PM"===a.state.bookingTime&&(a.state.course.availability.day6[7]=!1),"5:00 PM"===a.state.bookingTime&&(a.state.course.availability.day6[8]=!1);break;case oe:"9:00 AM"===a.state.bookingTime&&(a.state.course.availability.day7[0]=!1),"10:00 AM"===a.state.bookingTime&&(a.state.course.availability.day7[1]=!1),"11:00 AM"===a.state.bookingTime&&(a.state.course.availability.day7[2]=!1),"12:00 PM"===a.state.bookingTime&&(a.state.course.availability.day7[3]=!1),"1:00 PM"===a.state.bookingTime&&(a.state.course.availability.day7[4]=!1),"2:00 PM"===a.state.bookingTime&&(a.state.course.availability.day7[5]=!1),"3:00 PM"===a.state.bookingTime&&(a.state.course.availability.day7[6]=!1),"4:00 PM"===a.state.bookingTime&&(a.state.course.availability.day7[7]=!1),"5:00 PM"===a.state.bookingTime&&(a.state.course.availability.day7[8]=!1)}},a.handleSetTeeTime=function(e){switch(e.preventDefault(),a.state.setTimeAvailDate){case ee:a.state.nine&&(a.state.course.availability.day1[0]=!0),a.state.ten&&(a.state.course.availability.day1[1]=!0),a.state.eleven&&(a.state.course.availability.day1[2]=!0),a.state.twelve&&(a.state.course.availability.day1[3]=!0),a.state.one&&(a.state.course.availability.day1[4]=!0),a.state.two&&(a.state.course.availability.day1[5]=!0),a.state.three&&(a.state.course.availability.day1[6]=!0),a.state.four&&(a.state.course.availability.day1[7]=!0),a.state.five&&(a.state.course.availability.day1[8]=!0);break;case te:a.state.nine&&(a.state.course.availability.day2[0]=!0),a.state.ten&&(a.state.course.availability.day2[1]=!0),a.state.eleven&&(a.state.course.availability.day2[2]=!0),a.state.twelve&&(a.state.course.availability.day2[3]=!0),a.state.one&&(a.state.course.availability.day2[4]=!0),a.state.two&&(a.state.course.availability.day2[5]=!0),a.state.three&&(a.state.course.availability.day2[6]=!0),a.state.four&&(a.state.course.availability.day2[7]=!0),a.state.five&&(a.state.course.availability.day2[8]=!0);break;case ae:a.state.nine&&(a.state.course.availability.day3[0]=!0),a.state.ten&&(a.state.course.availability.day3[1]=!0),a.state.eleven&&(a.state.course.availability.day3[2]=!0),a.state.twelve&&(a.state.course.availability.day3[3]=!0),a.state.one&&(a.state.course.availability.day3[4]=!0),a.state.two&&(a.state.course.availability.day3[5]=!0),a.state.three&&(a.state.course.availability.day3[6]=!0),a.state.four&&(a.state.course.availability.day3[7]=!0),a.state.five&&(a.state.course.availability.day3[8]=!0);break;case ne:a.state.nine&&(a.state.course.availability.day4[0]=!0),a.state.ten&&(a.state.course.availability.day4[1]=!0),a.state.eleven&&(a.state.course.availability.day4[2]=!0),a.state.twelve&&(a.state.course.availability.day4[3]=!0),a.state.one&&(a.state.course.availability.day4[4]=!0),a.state.two&&(a.state.course.availability.day4[5]=!0),a.state.three&&(a.state.course.availability.day4[6]=!0),a.state.four&&(a.state.course.availability.day4[7]=!0),a.state.five&&(a.state.course.availability.day4[8]=!0);break;case re:a.state.nine&&(a.state.course.availability.day5[0]=!0),a.state.ten&&(a.state.course.availability.day5[1]=!0),a.state.eleven&&(a.state.course.availability.day5[2]=!0),a.state.twelve&&(a.state.course.availability.day5[3]=!0),a.state.one&&(a.state.course.availability.day5[4]=!0),a.state.two&&(a.state.course.availability.day5[5]=!0),a.state.three&&(a.state.course.availability.day5[6]=!0),a.state.four&&(a.state.course.availability.day5[7]=!0),a.state.five&&(a.state.course.availability.day5[8]=!0);break;case se:a.state.nine&&(a.state.course.availability.day6[0]=!0),a.state.ten&&(a.state.course.availability.day6[1]=!0),a.state.eleven&&(a.state.course.availability.day6[2]=!0),a.state.twelve&&(a.state.course.availability.day6[3]=!0),a.state.one&&(a.state.course.availability.day6[4]=!0),a.state.two&&(a.state.course.availability.day6[5]=!0),a.state.three&&(a.state.course.availability.day6[6]=!0),a.state.four&&(a.state.course.availability.day6[7]=!0),a.state.five&&(a.state.course.availability.day6[8]=!0);break;case oe:a.state.nine&&(a.state.course.availability.day7[0]=!0),a.state.ten&&(a.state.course.availability.day7[1]=!0),a.state.eleven&&(a.state.course.availability.day7[2]=!0),a.state.twelve&&(a.state.course.availability.day7[3]=!0),a.state.one&&(a.state.course.availability.day7[4]=!0),a.state.two&&(a.state.course.availability.day7[5]=!0),a.state.three&&(a.state.course.availability.day7[6]=!0),a.state.four&&(a.state.course.availability.day7[7]=!0),a.state.five&&(a.state.course.availability.day7[8]=!0)}var t={id:a.state.course.id,rating:a.state.course.rating,review:a.state.course.review,picture:a.state.course.picture,location:a.state.course.location,yardage:a.state.course.yardage,runningDistance:a.state.course.runningDistance,timePar:a.state.course.timePar,bestScore:a.state.course.bestScore,recordHolder:a.state.course.recordHolder,rateSenior:a.state.course.rateSenior,rateStandard:a.state.course.rateStandard,courseName:a.state.course.courseName,availability:a.state.course.availability};console.log(t),a.editCourse(t),document.getElementById("bookingTeeTimeForm").removeAttribute("hidden"),a.props.handleClose()},a.state={courseName:a.props.course,bookingTime:"",bookingDate:ee,course:"",setTeeTimeClick:!1,teeTime:[],nine:!1,ten:!1,eleven:!1,twelve:!1,one:!1,two:!1,three:!1,four:!1,five:!1,setTimeAvailDate:ee},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getSearchedCourse(this.props.course),this.getAllAppointments()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"bookingPage",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,"Booking Tee Time")),r.a.createElement("div",{className:"modal-body"},"operator"===this.props.userObj.type?r.a.createElement("button",{onClick:this.toggleSetTeeTimeClicked,className:"btn btn-primary btn-color-theme modal-submit-btn"},"Set Tee Time Availability"):null,this.state.setTeeTimeClick?r.a.createElement("form",{style:{backgroundColor:"lightgray"}},r.a.createElement("label",{for:"setTimeAvailDate"},"Date: ",r.a.createElement("br",null),r.a.createElement("input",{type:"date",id:"bookingDate",name:"setTimeAvailDate",min:ee,max:oe,value:this.state.setTimeAvailDate,onChange:function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},required:!0})),r.a.createElement("p",null),r.a.createElement("input",{id:"9:00 AM",value:"9:00 AM",type:"checkbox",onChange:function(){e.setState((function(e){return{nine:!e.nine}}))}}),"\xa09:00 AM",r.a.createElement("br",null),r.a.createElement("input",{id:"10:00 AM",value:"10:00 AM",type:"checkbox",onChange:function(){e.setState((function(e){return{ten:!e.ten}}))}}),"\xa010:00 AM",r.a.createElement("br",null),r.a.createElement("input",{id:"11:00 AM",value:"11:00 AM",type:"checkbox",onChange:function(){e.setState((function(e){return{eleven:!e.eleven}}))}}),"\xa011:00 AM",r.a.createElement("br",null),r.a.createElement("input",{id:"12:00 PM",value:"12:00 PM",type:"checkbox",onChange:function(){e.setState((function(e){return{twelve:!e.twelve}}))}}),"\xa012:00 PM",r.a.createElement("br",null),r.a.createElement("input",{id:"1:00 PM",value:"1:00 PM",type:"checkbox",onChange:function(){e.setState((function(e){return{one:!e.one}}))}}),"\xa01:00 PM",r.a.createElement("br",null),r.a.createElement("input",{id:"2:00 PM",value:"2:00 PM",type:"checkbox",onChange:function(){e.setState((function(e){return{two:!e.two}}))}}),"\xa02:00 PM",r.a.createElement("br",null),r.a.createElement("input",{id:"3:00 PM",value:"3:00 PM",type:"checkbox",onChange:function(){e.setState((function(e){return{three:!e.three}}))}}),"\xa03:00 PM",r.a.createElement("br",null),r.a.createElement("input",{id:"4:00 PM",value:"4:00 PM",type:"checkbox",onChange:function(){e.setState((function(e){return{four:!e.four}}))}}),"\xa04:00 PM",r.a.createElement("br",null),r.a.createElement("input",{id:"5:00 PM",value:"5:00 PM",type:"checkbox",onChange:function(){e.setState((function(e){return{five:!e.five}}))}}),"\xa05:00 PM",r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handleSetTeeTime,className:"btn btn-primary btn-color-theme"},"Set")):null,r.a.createElement("div",{className:"padded-page"},r.a.createElement("form",{onSubmit:this.handleBookTeeTime,id:"bookingTeeTimeForm"},r.a.createElement("center",null,r.a.createElement("h1",null,"Request Tee Time at ",this.state.courseName),r.a.createElement("br",null),r.a.createElement("label",{for:"bookingDate"},"Date: ",r.a.createElement("br",null),r.a.createElement("input",{type:"date",id:"bookingDate",name:"bookingDate",min:ee,max:oe,value:this.state.bookingDate,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",{for:"bookingTime"},"Time: ",r.a.createElement("br",null),r.a.createElement("select",{type:"date",id:"bookingTime",name:"bookingTime",value:this.state.bookingTime,onChange:this.handleChange,onClick:this.handleClick,required:!0},r.a.createElement("option",null),r.a.createElement("option",{id:"9:00 AM",value:"9:00 AM"},"9:00 AM"),r.a.createElement("option",{id:"10:00 AM",value:"10:00 AM"},"10:00 AM"),r.a.createElement("option",{id:"11:00 AM",value:"11:00 AM"},"11:00 AM"),r.a.createElement("option",{id:"12:00 PM",value:"12:00 PM"},"12:00 PM"),r.a.createElement("option",{id:"1:00 PM",value:"1:00 PM"},"1:00 PM"),r.a.createElement("option",{id:"2:00 PM",value:"2:00 PM"},"2:00 PM"),r.a.createElement("option",{id:"3:00 PM",value:"3:00 PM"},"3:00 PM"),r.a.createElement("option",{id:"4:00 PM",value:"4:00 PM"},"4:00 PM"),r.a.createElement("option",{id:"5:00 PM",value:"5:00 PM"},"5:00 PM"))),r.a.createElement("p",null),r.a.createElement("button",{className:"btn btn-primary btn-color-theme modal-submit-btn"},"Request Tee Time"),r.a.createElement("button",{onClick:this.props.handleClose,className:"btn btn-primary btn-color-theme modal-submit-btn"},"Cancel"))))))))}}]),t}(r.a.Component),ie=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).toggleGetCourseClicked=function(){e.setState((function(e){return{getCourseClicked:!e.getCourseClicked}}))},e.toggleMoreClicked=function(t){e.setState({item:t}),e.setState((function(e){return{more:!e.more}}))},e.toggleGetRatesClicked=function(t){e.setState({item:t}),e.setState((function(e){return{getRatesButtonClicked:!e.getRatesButtonClicked}}))},e.toggleBookTeeTimeClicked=function(t,a,n){e.setState({item:t}),e.setState({index:a}),e.setState({cname:n}),e.setState((function(e){return{bookTeeTimeClicked:!e.bookTeeTimeClicked}}))},e.handleDelete=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/courses/"+a,t.next=3,fetch(n,{method:"DELETE"});case 3:return r=t.sent,t.next=6,r.text();case 6:if(s=t.sent,console.log(s),200==r.status)for(o=0;o<e.state.filteredData.length;o++)e.state.filteredData[o].id===a&&(e.state.course.splice(o,1),e.setState({course:e.state.course}));else alert(s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getCourse=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"/allcourses/",fetch("/allcourses/").then((function(e){if(200==e.status)return e.json();throw Error(e.statusText)})).then((function(t){console.log("GET SUCCESS!");var a=JSON.parse(t);e.setState({filteredData:a,course:a.map((function(t,a){return r.a.createElement(I.a,{style:{marginTop:"20px",marginBottom:"50px"}},r.a.createElement(U.a,{key:t.id,style:{width:"30rem",display:"flex"}},r.a.createElement(U.a.Img,{className:"course-image",variant:"top",src:t.picture}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,t.courseName),r.a.createElement(U.a.Text,null,"Record Holder: ",t.recordHolder),e.setState({item:t.id}),r.a.createElement(B.a,{id:"moreBtn",type:"button",onClick:function(){return e.toggleMoreClicked(t.id)}},"More"),"\xa0",r.a.createElement(B.a,{id:"ratesBtn",type:"button",onClick:function(){return e.toggleGetRatesClicked(t.id)}},"Get Rates"),"\xa0",r.a.createElement(B.a,{id:"bookingBtn",type:"button",onClick:function(){return e.toggleBookTeeTimeClicked(t.id,a,t.courseName)}},"Book Tee Time"),"\xa0","operator"===e.props.userObj.type?r.a.createElement(B.a,{style:{display:"flex",float:"right"},onClick:function(){return e.handleDelete(t.id)}},"\xd7"):null),r.a.createElement(U.a.Footer,null,"Rating: ",t.rating)))}))})})).catch((function(e){console.log("GET ERROR!")}));case 2:case"end":return t.stop()}}),t)}))),e.state={item:"",getCourseClicked:!1,getRatesButtonClicked:!1,bookTeeTimeClicked:!1,more:!1,index:0,cname:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getCourse()}},{key:"render",value:function(){return r.a.createElement("div",{id:"allCoursesPage"},r.a.createElement("h1",null),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement(L.a,{fluid:!0},r.a.createElement(_.a,{noGutters:!0},this.state.course)))),this.state.getRatesButtonClicked?r.a.createElement(G,{handleClose:this.toggleGetRatesClicked,course:this.state.item,changeMode:this.props.changeMode,refreshOnUpdate:this.props.refreshOnUpdate,mode:this.props.mode}):null,this.state.more?r.a.createElement(F,{handleClose:this.toggleMoreClicked,course:this.state.item,changeMode:this.props.changeMode,refreshOnUpdate:this.props.refreshOnUpdate,mode:this.props.mode}):null,this.state.bookTeeTimeClicked?r.a.createElement(le,{handleClose:this.toggleBookTeeTimeClicked,userObj:this.props.userObj,courseName:this.state.cname,course:this.state.item,changeMode:this.props.changeMode,editId:this.state.index,refreshOnUpdate:this.props.refreshOnUpdate,mode:this.props.mode,info:this.props.info}):null)}}]),t}(r.a.Component),ce=a(21),ue={position:"absolute",width:"100%",height:"100%"},de=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).getNearbyPlaces=function(e){var t=a.props.google.maps,n={location:e,rankBy:t.places.RankBy.DISTANCE,keyword:"golf"};(K=new t.places.PlacesService(a.map)).nearbySearch(n,a.nearbyCallback)},a.nearbyCallback=function(e,t){t==a.props.google.maps.places.PlacesServiceStatus.OK&&a.createMarkers(e)},a.createMarkers=function(e){var t=a.props.google.maps;e.forEach((function(e){var n=new t.Marker({position:e.geometry.location,map:a.map,title:e.name});t.event.addListener(n,"click",(function(){var t={placeId:e.place_id,fields:["name","formatted_address","geometry","rating","website","photos"]};K.getDetails(t,(function(e,t){a.showDetails(e,n,t)}))})),W.extend(e.geometry.location)})),a.map.fitBounds(W)},a.showDetails=function(e,t,n){var r=a.props.google.maps;if(n==r.places.PlacesServiceStatus.OK){var s=new r.InfoWindow,o="None";e.rating&&(o=e.rating),s.setContent("<div><strong>"+e.name+"</strong><br>Rating: "+o+"</div>"),s.open(t.map,t),$.close(),$=s,a.showPanel(e)}else console.log("showDetails failed: "+n)},a.showPanel=function(e){for(X.classList.contains("open")&&X.classList.remove("open");X.lastChild;)X.removeChild(X.lastChild);if(e.photos){var t=e.photos[0],a=document.createElement("img");a.classList.add("hero"),a.src=t.getUrl(),X.appendChild(a)}var n=document.createElement("h1");if(n.classList.add("place"),n.textContent=e.name,X.appendChild(n),e.rating){var r=document.createElement("p");r.classList.add("details"),r.textContent="Rating: ".concat(e.rating," \u272e"),X.appendChild(r)}var s=document.createElement("p");if(s.classList.add("details"),s.textContent=e.formatted_address,X.appendChild(s),e.website){var o=document.createElement("p"),l=document.createElement("a"),i=document.createTextNode(e.website);l.appendChild(i),l.title=e.website,l.href=e.website,o.appendChild(l),X.appendChild(o)}X.classList.add("open")};var n=a.props.initialCenter,r=n.lat,s=n.lng;return a.state={currentLocation:{lat:r,lng:s}},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,a=this.props.google.maps;if(e){var n=new a.LatLng(t.lat,t.lng);e.panTo(n)}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.google.maps;W=new t.LatLngBounds,Z=new t.InfoWindow,$=Z,X=document.getElementById("panel"),this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;e.setState({currentLocation:{lat:a.latitude,lng:a.longitude}}),W.extend(e.state.currentLocation),Z.setPosition(e.state.currentLocation),Z.setContent("Location found."),Z.open(e.map),e.map.setCenter(e.state.currentLocation)})),this.loadMap(),this.getNearbyPlaces(this.state.currentLocation)}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,a=o.a.findDOMNode(t),n=this.props.zoom,r=this.state.currentLocation,s=r.lat,l=r.lng,i=new e.LatLng(s,l),c=Object.assign({},{center:i,zoom:n});this.map=new e.Map(a,c)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return r.a.Children.map(t,(function(t){if(t)return r.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){var e=Object.assign({},ue);return r.a.createElement("div",{id:"Map"},r.a.createElement("div",{style:e,ref:"map"},"Loading map..."),r.a.createElement("div",{id:"panel"}),r.a.createElement("div",{id:"map"}),this.renderChildren())}}]),t}(r.a.Component);de.defaultProps={zoom:14,initialCenter:{lat:46.7482916,lng:-117.153158},centerAroundCurrentLocation:!1,visible:!0};var me=de,pe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(me,{centerAroundCurrentLocation:!0,google:this.props.google},r.a.createElement(ce.Marker,{onClick:this.onMarkerClick,name:"Current Location"}),r.a.createElement(ce.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("h4",null,this.state.selectedPlace.name))))}}]),t}(r.a.Component),he=Object(ce.GoogleApiWrapper)({apiKey:"AIzaSyAb8KZudhikDhC08rfJ_BgBvM0Fxfpvog8"})(pe),be=a(24),ge=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).getCourse=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"/allcourses/",fetch("/allcourses/").then((function(t){if(200==t.status)return t.json();throw e.setErrorMsg("ERROR: "+t.statusText),Error(t.statusText)})).then((function(t){console.log("GET SUCCESS!");for(var a=JSON.parse(t),n=[],r=0;r<a.length;r++)n.push(a[r]);e.setState({allCourses:n})})).catch((function(e){console.log("GET ERROR!")}));case 2:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.searchStart();var a=e.state.searchType,n=e.state.allCourses.length,r=e.state.allCourses,s=[];switch(a){case"rates":for(var o=0;o<n;o++)r[o].rateSenior!==e.state.rateSenior&&r[o].rateStandard!==e.state.rateStandard||s.push(r[o]);break;case"rating":for(o=0;o<n;o++)r[o].rating===e.state.rating&&s.push(r[o]);break;case"yardage":for(o=0;o<n;o++)r[o].yardage===e.state.yardage&&s.push(r[o]);break;case"runningDistance":for(o=0;o<n;o++)r[o].runningDistance===e.state.runningDistance&&s.push(r[o]);break;case"timePar":for(o=0;o<n;o++)r[o].timePar===e.state.timePar&&s.push(r[o])}console.log(s.length),e.props.setCourseAmount(s.length),e.props.setFilteredData(s),e.props.handleClose()},e.handleSwitch=function(t){return"rates"===t?r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("center",null,r.a.createElement("label",null,"Standard Rate: $",r.a.createElement("br",null),r.a.createElement("input",{id:"rateStandard",name:"rateStandard",placeholder:"rateStandard",value:e.state.rateStandard,onChange:e.handleChange})),r.a.createElement("p",null),r.a.createElement("label",null,"Senior Rate: $",r.a.createElement("br",null),r.a.createElement("input",{id:"rateSenior",name:"rateSenior",placeholder:"rateSenior",value:e.state.rateSenior,onChange:e.handleChange})),r.a.createElement("p",null))):"rating"===t?r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("center",null,r.a.createElement("label",null,"Rating:",r.a.createElement("br",null),r.a.createElement("input",{id:"rating",name:"rating",placeholder:"rating",value:e.state.rating,onChange:e.handleChange})),r.a.createElement("p",null))):"yardage"===t?r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("center",null,r.a.createElement("label",null,"Yardage:",r.a.createElement("br",null),r.a.createElement("input",{id:"yardage",name:"yardage",placeholder:"yardage",value:e.state.yardage,onChange:e.handleChange})),r.a.createElement("p",null))):"runningDistance"===t?r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("center",null,r.a.createElement("label",null,"Running Distance:",r.a.createElement("br",null),r.a.createElement("input",{id:"runningDistance",name:"runningDistance",placeholder:"runningDistance",value:e.state.runningDistance,onChange:e.handleChange})),r.a.createElement("p",null))):"timePar"===t?r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("center",null,r.a.createElement("label",null,"Time Par:",r.a.createElement("br",null),r.a.createElement("input",{id:"timePar",name:"timePar",placeholder:"timePar",value:e.state.timePar,onChange:e.handleChange})),r.a.createElement("p",null))):void 0},e.state={rating:"",yardage:"",runningDistance:"",timePar:"",rateStandard:"",rateSenior:"",searchType:"",allCourses:[],filteredCourses:[]},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getCourse()}},{key:"render",value:function(){return r.a.createElement("div",{id:"advancedSearchPage",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,"Advanced Search"),r.a.createElement("button",{className:"modal-close",onClick:this.props.handleClose},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",null,r.a.createElement("label",null,"Search By:\xa0",r.a.createElement("select",{id:"searchOptions",name:"searchType",value:this.state.searchType,className:"form-control form-center",onChange:this.handleChange},r.a.createElement("option",null),r.a.createElement("option",{value:"rates"},"Rates"),r.a.createElement("option",{id:"RATING",value:"rating"},"Ratings"),r.a.createElement("option",{value:"yardage"},"Holes Yardage"),r.a.createElement("option",{value:"runningDistance"},"Running Distance"),r.a.createElement("option",{value:"timePar"},"Time Pars"))),r.a.createElement("p",null)),this.handleSwitch(this.state.searchType)),r.a.createElement("div",{className:"modal-footer"},""!==this.state.searchType?r.a.createElement("button",{onClick:this.handleSubmit,id:"submitBtn",type:"submit",style:{width:"70%",fontSize:"36px"},className:"btn btn-primary btn-color-theme"},"\xa0Submit"):null))))}}]),t}(r.a.Component),fe=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).toggleAddCourseClicked=function(){e.setState((function(e){return{addCourseClicked:!e.addCourseClicked}}))},e.toggleAdvancedSearchClicked=function(){e.setState((function(e){return{advancedSearchClicked:!e.advancedSearchClicked}}))},e.toggleMoreClicked=function(t){e.setState({item:t}),e.setState((function(e){return{more:!e.more}}))},e.toggleGetCourseClicked=function(){e.setState((function(e){return{getCourseClicked:!e.getCourseClicked}}))},e.toggleGetRatesClicked=function(t){e.setState({item:t}),e.setState((function(e){return{getRatesButtonClicked:!e.getRatesButtonClicked}}))},e.toggleBookTeeTimeClicked=function(t,a){e.setState({item:t}),e.setState({cname:a}),e.setState((function(e){return{bookTeeTimeClicked:!e.bookTeeTimeClicked}}))},e.setSelectButtonValue=function(t){e.setState({selectButtonValue:t})},e.setSearchTrue=function(){e.setState({searchStart:!0})},e.setSearchFalse=function(){e.setState({searchStart:!1})},e.setCourseAmount=function(t){e.setState({courseAmount:t})},e.setSearchCourseClickedTrue=function(){e.setState({searchCourseClicked:!0}),e.setSelectButtonValue("Clear Selected")},e.setSearchCourseClickedFalse=function(){e.setState({searchCourseClicked:!1}),e.setSelectButtonValue("Select Course")},e.setFilteredData=function(t){e.setState({fData:t,adData:!0,course:t.map((function(t){return r.a.createElement(I.a,{style:{marginTop:"20px",marginBottom:"50px"}},r.a.createElement(U.a,{key:t.id,style:{width:"30rem",display:"flex"}},r.a.createElement(U.a.Img,{className:"course-image",variant:"top",src:t.picture}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,t.courseName),r.a.createElement(U.a.Text,null,"Record Holder: ",t.recordHolder),r.a.createElement(B.a,{type:"button",onClick:function(){return e.toggleMoreClicked(t.id)}},"More"),"\xa0",r.a.createElement(B.a,{onClick:function(){return e.toggleGetRatesClicked(t.id)}},"Get Rates"),"\xa0",r.a.createElement(B.a,{onClick:function(){return e.toggleBookTeeTimeClicked(t.id,t.courseName)}},"Book Tee Time"),"\xa0","operator"===e.props.userObj.type?r.a.createElement(B.a,{style:{display:"flex",float:"right"},onClick:function(){return e.handleDelete(t.id)}},"\xd7"):null),r.a.createElement(U.a.Footer,null,"Rating: ",t.rating)))}))})},e.handleInputChange=function(t){var a=t.target.value;e.setState((function(t){var n=t.data.filter((function(e){return e.id.toLowerCase().includes(a.toLowerCase())}));return""==a?(e.setSearchFalse(),e.setSelectButtonValue("Select Course")):(e.setSearchTrue(),e.setSelectButtonValue("Select All "+n.length+" Matching Courses"),e.setCourseAmount(n.length)),{query:a,filteredData:n}}))},e.handleDelete=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,s,o,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/courses/"+a,t.next=3,fetch(n,{method:"DELETE"});case 3:return s=t.sent,t.next=6,s.text();case 6:if(o=t.sent,console.log(o),200==s.status)if(1===e.state.courseAmount)e.setState({course:"",courseAmount:0});else if(e.state.adData)for(console.log(e.state.fData),l=0;l<e.state.fData.length;l++)e.state.fData[l].id===a&&(e.state.fData.splice(l,1),e.setState({course:e.state.fData.map((function(t){return r.a.createElement(I.a,{style:{marginTop:"20px",marginBottom:"50px"}},r.a.createElement(U.a,{key:t.id,style:{width:"30rem",display:"flex"}},r.a.createElement(U.a.Img,{className:"course-image",variant:"top",src:t.picture}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,t.courseName),r.a.createElement(U.a.Text,null,"Record Holder: ",t.recordHolder),r.a.createElement(B.a,{type:"button",onClick:function(){return e.toggleMoreClicked(t.id)}},"More"),"\xa0",r.a.createElement(B.a,{onClick:function(){return e.toggleGetRatesClicked(t.id)}},"Get Rates"),"\xa0",r.a.createElement(B.a,{onClick:function(){return e.toggleBookTeeTimeClicked(t.id,t.courseName)}},"Book Tee Time"),"\xa0","operator"===e.props.userObj.type?r.a.createElement(B.a,{style:{display:"flex",float:"right"},onClick:function(){return e.handleDelete(t.id)}},"\xd7"):null),r.a.createElement(U.a.Footer,null,"Rating: ",t.rating)))})),courseAmount:e.state.fData.length}));else for(l=0;l<e.state.filteredData.length;l++)e.state.filteredData[l].id===a&&(e.state.course.splice(l,1),e.setState({course:e.state.course,courseAmount:e.state.filteredData.length-1}));else alert(o);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getCourse=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"/allcourses/",fetch("/allcourses/").then((function(e){if(200==e.status)return e.json();throw Error(e.statusText)})).then((function(t){console.log("GET ALL COURSES SUCCESS!");var a=JSON.parse(t),n=e.state.query,r=a.filter((function(e){return e.id.toLowerCase().includes(n.toLowerCase())}));e.setState({data:a,filteredData:r})})).catch((function(e){console.log("GET ERROR!")}));case 2:case"end":return t.stop()}}),t)}))),e.getSearchedCourse=function(){var t=Object(c.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setSearchCourseClickedTrue(),e.setSearchFalse(),e.setCourseAmount(1),fetch("/courses/"+a).then((function(t){if(200==t.status)return t.json();throw e.setErrorMsg("ERROR: "+t.statusText),Error(t.statusText)})).then((function(t){console.log("GET SEARCH COURSES SUCCESS!");var a=JSON.parse(t);e.setState({course:r.a.createElement(I.a,{style:{marginTop:"20px",marginBottom:"50px"}},r.a.createElement(U.a,{key:a.id,style:{width:"30rem",display:"flex"}},r.a.createElement(U.a.Img,{className:"course-image",variant:"top",src:a.picture}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,a.courseName),r.a.createElement(U.a.Text,null,"Record Holder: ",a.recordHolder),r.a.createElement(B.a,{type:"button",onClick:function(){return e.toggleMoreClicked(a.id)}},"More"),"\xa0",r.a.createElement(B.a,{onClick:function(){return e.toggleGetRatesClicked(a.id)}},"Get Rates"),"\xa0",r.a.createElement(B.a,{onClick:function(){return e.toggleBookTeeTimeClicked(a.id,a.courseName)}},"Book Tee Time"),"\xa0","operator"===e.props.userObj.type?r.a.createElement(B.a,{style:{display:"flex",float:"right"},onClick:function(){return e.handleDelete(a.id)}},"\xd7"):null),r.a.createElement(U.a.Footer,null,"Rating: ",a.rating)))})})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleClick=function(t){t.preventDefault(),"Select Course"==e.state.selectButtonValue||("Clear Selected"==e.state.selectButtonValue?(e.setSearchCourseClickedFalse(),e.setSearchFalse(),e.setState({query:""})):(e.setSearchCourseClickedTrue(),e.setSearchFalse(),e.setState({course:e.state.filteredData.map((function(t){return r.a.createElement(I.a,{style:{marginTop:"20px",marginBottom:"50px"}},r.a.createElement(U.a,{key:t.id,style:{width:"30rem",display:"flex"}},r.a.createElement(U.a.Img,{className:"course-image",variant:"top",src:t.picture}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,t.courseName),r.a.createElement(U.a.Text,null,"Record Holder: ",t.recordHolder),r.a.createElement(B.a,{type:"button",onClick:function(){return e.toggleMoreClicked(t.id)}},"More"),"\xa0",r.a.createElement(B.a,{onClick:function(){return e.toggleGetRatesClicked(t.id)}},"Get Rates"),"\xa0",r.a.createElement(B.a,{onClick:function(){return e.toggleBookTeeTimeClicked(t.id,t.courseName)}},"Book Tee Time"),"\xa0","operator"===e.props.userObj.type?r.a.createElement(B.a,{style:{display:"flex",float:"right"},onClick:function(){return e.handleDelete(t.id)}},"\xd7"):null),r.a.createElement(U.a.Footer,null,"Rating: ",t.rating)))}))})))},e.state={addCourseClicked:!1,getCourseClicked:!1,searchCourseClicked:!1,searchStart:!1,getRatesButtonClicked:!1,bookTeeTimeClicked:!1,advancedSearchClicked:!1,more:!1,selectButtonValue:"Select Course",courseAmount:1,query:"",data:[],filteredData:[],item:"",cname:"",adData:!1,id:"",rating:"",review:"",picture:"",location:"",yardage:"",runningDistance:"",timePar:"",bestScore:"",recordHolder:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.getCourse()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"specificCoursePage"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("h3",null,"Find Speedgolf-Friendly Courses:\xa0"),r.a.createElement("h3",null,r.a.createElement("a",{"data-tip":"React-tooltip"},"\u24d8"),r.a.createElement(be.a,{variant:"bottom",effect:"solid"},r.a.createElement("span",null,"Enter search term or course name to see matching courses, or enter a space to see ALL courses in the database. Click on course in the list to select it, or click on 'Select' button to select all matching courses.")))),r.a.createElement("input",{style:{width:"60%"},placeholder:"Enter course name or search term",value:this.state.query,onChange:this.handleInputChange,disabled:!!this.state.searchCourseClicked}),"\xa0",r.a.createElement(B.a,{onClick:this.handleClick},this.state.selectButtonValue),"\xa0",r.a.createElement(B.a,{id:"advancedSearchBtn",onClick:this.toggleAdvancedSearchClicked,disabled:!!this.state.searchCourseClicked},"Advanced Search"),this.state.searchStart?r.a.createElement("div",null,this.state.filteredData.map((function(t){return r.a.createElement("a",{className:"course-search-list",onClick:function(){return e.getSearchedCourse(t.id)}},t.id)}))):null,this.state.searchCourseClicked?r.a.createElement("div",{style:{marginTop:"50px"}},r.a.createElement("h3",null,this.state.courseAmount," Course Selected: "),r.a.createElement(L.a,{fluid:!0},r.a.createElement(_.a,{noGutters:!0},this.state.course)),"  "):null,this.state.advancedSearchClicked?r.a.createElement(ge,{handleClose:this.toggleAdvancedSearchClicked,searchStart:this.setSearchCourseClickedTrue,toggleMoreClicked:this.toggleMoreClicked,toggleGetRatesClicked:this.toggleGetRatesClicked,toggleBookTeeTimeClicked:this.toggleBookTeeTimeClicked,course:this.state.item,changeMode:this.props.changeMode,refreshOnUpdate:this.props.refreshOnUpdate,mode:this.props.mode,setFilteredData:this.setFilteredData,setCourseAmount:this.setCourseAmount}):null,this.state.getRatesButtonClicked?r.a.createElement(G,{handleClose:this.toggleGetRatesClicked,course:this.state.item,changeMode:this.props.changeMode,refreshOnUpdate:this.props.refreshOnUpdate,mode:this.props.mode}):null,this.state.more?r.a.createElement(F,{handleClose:this.toggleMoreClicked,course:this.state.item,changeMode:this.props.changeMode,refreshOnUpdate:this.props.refreshOnUpdate,mode:this.props.mode}):null,this.state.bookTeeTimeClicked?r.a.createElement(le,{handleClose:this.toggleBookTeeTimeClicked,userObj:this.props.userObj,courseName:this.state.cname,course:this.state.item,changeMode:this.props.changeMode,refreshOnUpdate:this.props.refreshOnUpdate,mode:this.props.mode}):null)}}]),t}(r.a.Component),Ee=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.addCourse=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),n="/courses/"+e.state.id,t.next=4,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)});case 4:return r=t.sent,t.next=7,r.text();case 7:s=t.sent,200==r.status?(console.log("SUCCESS"),console.log(s),e.props.changeMode(g.COURSES_ALL)):(console.log("FAILURE"),console.log(s));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(t){t.preventDefault();var a=e.state;e.addCourse(a)},e.state={courseName:"",id:"",rating:"",review:"",picture:"",location:"",yardage:"",runningDistance:"",timePar:"",bestScore:"",recordHolder:"",rateStandard:"",rateSenior:"",availability:{day1:[!1,!1,!1,!1,!1,!1,!1,!1,!1],day2:[!1,!1,!1,!1,!1,!1,!1,!1,!1],day3:[!1,!1,!1,!1,!1,!1,!1,!1,!1],day4:[!1,!1,!1,!1,!1,!1,!1,!1,!1],day5:[!1,!1,!1,!1,!1,!1,!1,!1,!1],day6:[!1,!1,!1,!1,!1,!1,!1,!1,!1],day7:[!1,!1,!1,!1,!1,!1,!1,!1,!1]}},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"addCoursePage"},r.a.createElement("form",{onSubmit:this.handleSubmit,style:{marginBottom:"50px"}},r.a.createElement("center",null,r.a.createElement("h3",null,"Add Course"),r.a.createElement("label",null,"Course ID:",r.a.createElement("br",null),r.a.createElement("input",{id:"id",name:"id",placeholder:"id",value:this.state.id,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Course Name:",r.a.createElement("br",null),r.a.createElement("input",{id:"courseName",name:"courseName",placeholder:"courseName",value:this.state.courseName,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Standard Rate: $",r.a.createElement("br",null),r.a.createElement("input",{id:"rateStandard",name:"rateStandard",placeholder:"rateStandard",value:this.state.rateStandard,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Senior Rate: $",r.a.createElement("br",null),r.a.createElement("input",{id:"rateSenior",name:"rateSenior",placeholder:"rateSenior",value:this.state.rateSenior,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Rating:",r.a.createElement("br",null),r.a.createElement("input",{id:"rating",name:"rating",placeholder:"rating",value:this.state.rating,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Review:",r.a.createElement("br",null),r.a.createElement("input",{id:"review",name:"review",placeholder:"review",value:this.state.review,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Picture:",r.a.createElement("br",null),r.a.createElement("input",{id:"picture",name:"picture",placeholder:"picture",value:this.state.picture,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Location:",r.a.createElement("br",null),r.a.createElement("input",{id:"location",name:"location",placeholder:"location",value:this.state.location,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Yardage:",r.a.createElement("br",null),r.a.createElement("input",{id:"yardage",name:"yardage",placeholder:"yardage",value:this.state.yardage,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Running Distance:",r.a.createElement("br",null),r.a.createElement("input",{id:"runningDistance",name:"runningDistance",placeholder:"runningDistance",value:this.state.runningDistance,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Time Par:",r.a.createElement("br",null),r.a.createElement("input",{id:"timePar",name:"timePar",placeholder:"timePar",value:this.state.timePar,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Best Score:",r.a.createElement("br",null),r.a.createElement("input",{id:"bestScore",name:"bestScore",placeholder:"bestScore",value:this.state.bestScore,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Record Holder:",r.a.createElement("br",null),r.a.createElement("input",{id:"recordHolder",name:"recordHolder",placeholder:"recordHolder",value:this.state.recordHolder,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("button",{id:"submitBtn",type:"submit",style:{width:"70%",fontSize:"36px"},className:"btn btn-primary btn-color-theme"},"\xa0Submit"))))}}]),t}(r.a.Component),ye=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).toggleDeleteClicked=function(){e.setState((function(e){return{deleteClicked:!e.deleteClicked}}))},e.handleDeleteAll=function(t,a,n,r,s){e.handleDelete(t,a,n,r,s),e.handleDeleteFromDB(t,a,n,r)},e.handleDelete=function(){var t=Object(c.a)(i.a.mark((function t(a,n,r,s,o){var l,c,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l="/appointments/"+a+"/"+n+"/"+r+"/"+s+"/"+o,t.next=3,fetch(l,{method:"DELETE"});case 3:return c=t.sent,t.next=6,c.text();case 6:u=t.sent,console.log(u),200==c.status?(console.log("APPOINTMENT CANCELLED"),e.getAllAppointments()):alert(u);case 9:case"end":return t.stop()}}),t)})));return function(e,a,n,r,s){return t.apply(this,arguments)}}(),e.handleDeleteFromDB=function(){var t=Object(c.a)(i.a.mark((function t(a,n,r,s){var o,l,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="/appointments_op/"+a+"/"+n+"/"+r+"/"+s,t.next=3,fetch(o,{method:"DELETE"});case 3:return l=t.sent,t.next=6,l.text();case 6:c=t.sent,console.log(c),200==l.status?(console.log("APPOINTMENT CANCELLED"),e.getAllAppointments()):alert(c);case 9:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),e.getAllAppointments=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"/allappointments_op/",fetch("/allappointments_op/").then((function(e){if(200==e.status)return e.json();throw Error(e.statusText)})).then((function(t){console.log("GET SUCCESS!");var a=JSON.parse(t);e.setState({course:a.map((function(t){return r.a.createElement(I.a,{style:{marginTop:"20px",marginBottom:"50px"}},r.a.createElement(U.a,{key:t.userId,style:{width:"30rem",display:"flex"}},r.a.createElement(U.a.Body,null,r.a.createElement(B.a,{style:{float:"right"},onClick:function(){return e.handleDeleteAll(t.username,t.courseName,t.date,t.time,t.userId)}},"\xd7"),r.a.createElement(U.a.Title,null,"Appointment for ",t.username),r.a.createElement(U.a.Text,null,"Location: ",t.courseName),r.a.createElement(U.a.Text,null,"On: ",t.date),r.a.createElement(U.a.Text,null,"At: ",t.time))))}))})})).catch((function(e){console.log("GET ERROR!")}));case 2:case"end":return t.stop()}}),t)}))),e.state={deleteClicked:!1},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getAllAppointments()}},{key:"render",value:function(){return r.a.createElement("div",{id:"allAppointmentsPage"},r.a.createElement("h1",null),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement(L.a,{fluid:!0},r.a.createElement(_.a,{noGutters:!0},this.state.course)))))}}]),t}(r.a.Component),ve=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).getCard=Object(c.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="/cards/"+e.props.userObj.id,fetch(a).then((function(e){if(200==e.status)return e.json();throw Error(e.statusText)})).then((function(t){console.log("GET SUCCESS!");var a=JSON.parse(t);e.setState({card:a.map((function(e){return{name:e.name,number:e.number,expDate:e.expDate}}))})})).catch((function(e){console.log("GET ERROR!")}));case 2:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state;if(console.log(a),console.log(e.state.card),e.state.card[0].name===a.name&&e.state.card[0].number===parseInt(a.number)&&e.state.card[0].expDate===a.expDate){var n=e.props.info;e.props.handlePayment(n.userId,n.username,n.courseName,n.date,n.time,n.paid),e.props.handleUserPayment(n.mmId,n.userId,n.username,n.courseName,n.date,n.time,n.paid),e.props.close()}else alert("INVALID CARD")},e.state={name:"",number:0,expDate:""},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getCard()}},{key:"render",value:function(){return r.a.createElement("div",{id:"aboutModal",className:"modal payment-dialogue",role:"dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("center",null,r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Enter Card Information"))),r.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.props.close},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",null,r.a.createElement("center",null,r.a.createElement("label",null,"Name on Card: ",r.a.createElement("br",null),r.a.createElement("input",{id:"name",name:"name",placeholder:"name",value:this.state.name,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Card Number: ",r.a.createElement("br",null),r.a.createElement("input",{id:"number",name:"number",placeholder:"number",value:this.state.number,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Expiration Date: (format: MM/YY)",r.a.createElement("br",null),r.a.createElement("input",{id:"expDate",name:"expDate",placeholder:"expDate",value:this.state.expDate,onChange:this.handleChange,required:!0})),r.a.createElement("p",null)))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-danger",onClick:this.handleSubmit},"Verify Card"))))}}]),t}(r.a.Component),Ce=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).toggleSetMatched=function(t){e.setState((function(e){return{matched:!e.matched}}))},e.togglePayClicked=function(){e.setState((function(e){return{payClicked:!e.payClicked}}))},e.handleDeleteAll=function(t,a,n,r,s){e.handleDelete(t,a,n,r,s),e.handleDeleteFromDB(t,a,n,r)},e.handleAllPayment=function(t,a,n,r,s,o,l){"true"===l?alert("You've already paid!"):(e.setState({info:{mmId:t,userId:a,username:n,courseName:r,date:s,time:o,paid:l}}),e.togglePayClicked())},e.handleUserPayment=function(){var t=Object(c.a)(i.a.mark((function t(a,n,r,s,o,l,c){var u,d,m,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={userId:n,username:r,courseName:s,date:o,time:l,paid:"true"},d="/appointments/"+e.props.userObj.id+"/"+a,t.next=4,fetch(d,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(u)});case 4:return m=t.sent,t.next=7,m.text();case 7:p=t.sent,console.log(p),200===m.status?(alert("Paid"),e.getMyAppointments()):e.props.refreshOnUpdate(g.COURSES_MYAPPT);case 10:case"end":return t.stop()}}),t)})));return function(e,a,n,r,s,o,l){return t.apply(this,arguments)}}(),e.handlePayment=function(){var t=Object(c.a)(i.a.mark((function t(a,n,r,s,o,l){var c,u,d,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={userId:a,username:n,courseName:r,date:s,time:o,paid:"true"},u="/appointments_op/"+n+"/"+r+"/"+s+"/"+o,t.next=4,fetch(u,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(c)});case 4:return d=t.sent,t.next=7,d.text();case 7:m=t.sent,console.log(m),200===d.status?(alert("Paid"),e.getMyAppointments()):e.props.refreshOnUpdate(g.COURSES_MYAPPT);case 10:case"end":return t.stop()}}),t)})));return function(e,a,n,r,s,o){return t.apply(this,arguments)}}(),e.handleDelete=function(){var t=Object(c.a)(i.a.mark((function t(a,n,r,s,o){var l,c,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l="/appointments/"+a+"/"+n+"/"+r+"/"+s+"/"+o,t.next=3,fetch(l,{method:"DELETE"});case 3:return c=t.sent,t.next=6,c.text();case 6:u=t.sent,console.log(u),200==c.status?(console.log("APPOINTMENT CANCELLED"),e.getMyAppointments()):alert(u);case 9:case"end":return t.stop()}}),t)})));return function(e,a,n,r,s){return t.apply(this,arguments)}}(),e.handleDeleteFromDB=function(){var t=Object(c.a)(i.a.mark((function t(a,n,r,s){var o,l,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="/appointments_op/"+a+"/"+n+"/"+r+"/"+s,t.next=3,fetch(o,{method:"DELETE"});case 3:return l=t.sent,t.next=6,l.text();case 6:c=t.sent,console.log(c),200==l.status?(console.log("APPOINTMENT CANCELLED"),e.getMyAppointments()):alert(c);case 9:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),e.getMyAppointments=Object(c.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="/appointments/"+e.props.userObj.id,fetch(a).then((function(e){if(200==e.status)return e.json();throw Error(e.statusText)})).then((function(t){console.log("GET SUCCESS!");var a=JSON.parse(t);e.setState({course:a.map((function(t){return r.a.createElement(I.a,{style:{marginTop:"20px",marginBottom:"50px"}},r.a.createElement(U.a,{key:t.userId,style:{width:"30rem",display:"flex"}},r.a.createElement(U.a.Body,null,r.a.createElement(B.a,{style:{float:"right"},onClick:function(){return e.handleDeleteAll(t.username,t.courseName,t.date,t.time,t.userId)}},"\xd7"),r.a.createElement(U.a.Title,null,"Appointment for ",t.username),r.a.createElement(U.a.Text,null,"Location: ",t.courseName),r.a.createElement(U.a.Text,null,"On: ",t.date),r.a.createElement(U.a.Text,null,"At: ",t.time),r.a.createElement(B.a,{style:{float:"right"},onClick:function(){return e.handleAllPayment(t._id,t.userId,t.username,t.courseName,t.date,t.time,t.paid)}},"true"===t.paid?"Paid":"Pay"))))}))})})).catch((function(e){console.log("GET ERROR!")}));case 2:case"end":return t.stop()}}),t)}))),e.state={matched:!1,payClicked:!1},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getMyAppointments()}},{key:"render",value:function(){return r.a.createElement("div",{id:"myAppointmentsPage"},r.a.createElement("h1",null),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement(L.a,{fluid:!0},r.a.createElement(_.a,{noGutters:!0},this.state.course)))),this.state.payClicked?r.a.createElement(ve,{userObj:this.props.userObj,info:this.state.info,toggleSetMatched:this.toggleSetMatched,close:this.togglePayClicked,handleUserPayment:this.handleUserPayment,handlePayment:this.handlePayment}):null)}}]),t}(r.a.Component),Se=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){switch(this.props.mode){case g.COURSES:return r.a.createElement(fe,{userObj:this.props.userObj,mode:this.props.mode,changeMode:this.props.changeMode,refreshOnUpdate:this.props.refreshOnUpdate});case g.COURSES_NEARBY:return r.a.createElement(he,{changeMode:this.props.changeMode,mode:this.props.mode,refreshOnUpdate:this.props.refreshOnUpdate});case g.COURSES_ALL:return r.a.createElement(ie,{changeMode:this.props.changeMode,mode:this.props.mode,refreshOnUpdate:this.props.refreshOnUpdate,userObj:this.props.userObj});case g.COURSES_ADD:return r.a.createElement(Ee,{changeMode:this.props.changeMode});case g.COURSES_APPT:return r.a.createElement(ye,{userObj:this.props.userObj,changeMode:this.props.changeMode});case g.COURSES_MYAPPT:return r.a.createElement(Ce,{userObj:this.props.userObj,changeMode:this.props.changeMode,refreshOnUpdate:this.props.refreshOnUpdate})}}}]),t}(r.a.Component),ke=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,"About SpeedScore"),r.a.createElement("button",{className:"modal-close",onClick:this.props.close},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("img",{src:"https://dl.dropboxusercontent.com/s/awuwr1vpuw1lkyl/SpeedScore4SplashLogo.png",height:"200",width:"200"}),r.a.createElement("h3",null,"The World's First and Only Suite of Apps for Speedgolf"),r.a.createElement("p",null,"Version CptS 489 Fa20 Complete (MERN)",r.a.createElement("br",null),"\xa9 2017-20 The Professor of Speedgolf. All rights reserved."),r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("p",null,"SpeedScore apps support"),r.a.createElement("ul",null,r.a.createElement("li",null,"live touranment scoring (",r.a.createElement("i",null,"SpeedScore Live\xae"),")"),r.a.createElement("li",null,"tracking personal speedgolf rounds and sharing results (",r.a.createElement("i",null,"SpeedScore Track\xae"),")"),r.a.createElement("li",null,"finding speedgolf-friendly courses, booking tee times, and paying to play speedgolf by the minute (",r.a.createElement("i",null,"SpeedScore Play\xae"),")")),r.a.createElement("p",null,"SpeedScore was first developed by Dr. Chris Hundhausen, associate professor of computer science at Washington State University and the ",r.a.createElement("i",null,"Professor of Speedgolf"),", with support from Scott Dawley, CEO of Speedgolf USA, LLC."),r.a.createElement("p",null,"For more information on SpeedScore, visit ",r.a.createElement("a",{href:"http://speedscore.live",target:"_blank"},"SpeedScore's web site"),". For more information on speedgolf, visit ",r.a.createElement("a",{href:"http://playspeedgolf.com",target:"_blank"},"playspeedgolf.com")," and ",r.a.createElement("a",{href:"http://usaspeedgolf.com",target:"_blank"},"Speedgolf USA"),"."))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-primary btn-color-theme",onClick:this.props.close},"OK")))))}}]),t}(r.a.Component),Oe=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.addCard=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r,s,o,l,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a),!e.props.cardExist){t.next=17;break}return n="/cards/"+e.props.userId+"/"+e.state.cardId,t.next=5,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(a)});case 5:if(200!=(r=t.sent).status){t.next=11;break}alert("Card Edited"),e.props.setCardExist(),t.next=15;break;case 11:return t.next=13,r.text();case 13:s=t.sent,alert(s);case 15:t.next=30;break;case 17:return o="/cards/"+e.props.userId,t.next=20,fetch(o,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)});case 20:if(200!=(l=t.sent).status){t.next=26;break}alert("Card Added"),e.props.setCardExist(),t.next=30;break;case 26:return t.next=28,l.text();case 28:c=t.sent,alert(c);case 30:e.props.close();case 31:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(t){t.preventDefault();var a={name:e.state.name,number:parseInt(e.state.number),expDate:e.state.expDate};e.addCard(a)},e.handleDelete=Object(c.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/cards/"+e.props.userObj.id+"/"+e.state.cardId,t.next=3,fetch(a,{method:"DELETE"});case 3:return n=t.sent,t.next=6,n.text();case 6:r=t.sent,200==n.status?(alert("Card Deleted!"),e.setState({deleteClicked:!1}),e.props.close(),e.props.setCardDeleted()):alert(r);case 8:case"end":return t.stop()}}),t)}))),e.state={name:"",number:0,expDate:"",cardId:"",deleteClicked:!1},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/cards/"+this.props.userId,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,0!==(r=JSON.parse(n)).length?(this.props.setCardExist(),this.setState({name:r[0].name,number:r[0].number,expDate:r[0].expDate,cardId:r[0]._id})):this.setState({name:"",number:0,expDate:""});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"aboutModal",className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("center",null,r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Enter Card Information"))),r.a.createElement("button",{id:"modalClose",className:"modal-close",onClick:this.props.close},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",null,r.a.createElement("center",null,r.a.createElement("label",null,"Name on Card: ",r.a.createElement("br",null),r.a.createElement("input",{id:"name",name:"name",placeholder:"name",value:this.state.name,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Card Number: ",r.a.createElement("br",null),r.a.createElement("input",{id:"number",name:"number",placeholder:"number",value:this.state.number,onChange:this.handleChange,required:!0})),r.a.createElement("p",null),r.a.createElement("label",null,"Expiration Date: (format: MM/YY)",r.a.createElement("br",null),r.a.createElement("input",{id:"expDate",name:"expDate",placeholder:"expDate",value:this.state.expDate,onChange:this.handleChange,required:!0})),r.a.createElement("p",null)))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-success",onClick:this.handleSubmit},this.props.cardExist?"Edit Card":"Add Card"),this.props.cardExist?r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.setState({deleteClicked:!0})}},"Delete Card"):null)),this.state.deleteClicked?r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,"Are you sure you want to delete the card?")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("button",{className:"btn btn-danger",onClick:this.handleDelete},"YES"),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.setState({deleteClicked:!1})}},"CANCEL"))))):null)}}]),t}(r.a.Component),Ne={};Ne[g.LOGIN]="Welcome to SpeedScore",Ne[g.FEED]="Activity Feed",Ne[g.ROUNDS]="My Rounds",Ne[g.ROUNDS_LOGROUND]="Log New Round",Ne[g.ROUNDS_EDITROUND]="Edit Round",Ne[g.COURSES]="Search Courses",Ne[g.COURSES_NEARBY]="Nearby Courses",Ne[g.COURSES_ALL]="All Speedgolf-Friendly Courses",Ne[g.COURSES_ADD]="Add a Course",Ne[g.COURSES_APPT]="All Appointments",Ne[g.COURSES_MYAPPT]="My Appointments";var Ae={};Ae[g.LOGIN]=w,Ae[g.FEED]=M,Ae[g.ROUNDS]=x,Ae[g.ROUNDS_LOGROUND]=x,Ae[g.ROUNDS_EDITROUND]=x,Ae[g.COURSES]=Se,Ae[g.COURSES_NEARBY]=Se,Ae[g.COURSES_ALL]=Se,Ae[g.COURSES_ADD]=Se,Ae[g.COURSES_APPT]=Se,Ae[g.COURSES_MYAPPT]=Se;var we=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).refreshOnUpdate=function(){var t=Object(c.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/users/"+e.state.userObj.id);case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,r=JSON.parse(n),e.setState({userObj:r,mode:a});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChangeMode=function(t){e.setState({mode:t})},e.openMenu=function(){e.setState({menuOpen:!0})},e.closeMenu=function(){e.setState({menuOpen:!1})},e.toggleMenuOpen=function(){e.setState((function(e){return{menuOpen:!e.menuOpen}}))},e.setUserId=function(t){e.setState({userId:t,authenticated:!0})},e.showEditAccount=function(){e.setState({showEditAccountDialog:!0})},e.cancelEditAccount=function(){e.setState({showEditAccountDialog:!1})},e.setUserObjType=function(t){e.setState({userObj:t})},e.toggleAddCardClicked=function(){e.setState((function(e){return{addCardClicked:!e.addCardClicked}}))},e.editAccountDone=function(t,a){a?e.setState({showEditAccountDialog:!1,statusMsg:t,mode:g.LOGIN}):e.setState({showEditAccountDialog:!1,statusMsg:t})},e.closeStatusMsg=function(){e.setState({statusMsg:""})},e.state={mode:g.LOGIN,menuOpen:!1,authenticated:!1,userObj:{displayName:"",profilePicURL:""},editAccount:!1,showEditAccountDialog:!1,statusMsg:"",showAboutDialog:!1,addCardClicked:!1,cardExist:!1},e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.authenticated||fetch("/auth/test").then((function(e){return e.json()})).then((function(t){t.isAuthenticated&&e.setState({userObj:t.user,authenticated:!0,mode:g.COURSES_ALL})}))}},{key:"render",value:function(){var e=this,t=Ae[this.state.mode];return r.a.createElement("div",{className:"padded-page"},this.state.showAboutDialog?r.a.createElement(ke,{close:function(){return e.setState({showAboutDialog:!1})}}):null,""!=this.state.statusMsg?r.a.createElement("div",{className:"status-msg"},r.a.createElement("span",null,this.state.statusMsg),r.a.createElement("button",{className:"modal-close",onClick:this.closeStatusMsg},r.a.createElement("span",{className:"fa fa-times"}))):null,this.state.showEditAccountDialog?r.a.createElement(k,{create:!1,userId:this.state.userObj.id,done:this.editAccountDone,cancel:this.cancelEditAccount}):null,this.state.addCardClicked?r.a.createElement(Oe,{userObj:this.state.userObj,cardExist:this.state.cardExist,setCardDeleted:function(){return e.setState({cardExist:!1})},setCardExist:function(){return e.setState({cardExist:!0})},userId:this.state.userObj.id,close:function(){return e.setState({addCardClicked:!1})}}):null,r.a.createElement(f,{aboutOpen:this.state.showAboutDialog,title:Ne[this.state.mode],mode:this.state.mode,changeMode:this.handleChangeMode,menuOpen:this.state.menuOpen,toggleMenuOpen:this.toggleMenuOpen}),r.a.createElement(E,{toggleAddCardClicked:this.toggleAddCardClicked,type:this.state.userObj.type,changeMode:this.handleChangeMode,menuOpen:this.state.menuOpen,mode:this.state.mode,toggleMenuOpen:this.toggleMenuOpen,displayName:this.state.userObj.displayName,profilePicURL:this.state.userObj.profilePicURL,localAccount:"local"===this.state.userObj.authStrategy,editAccount:this.showEditAccount,logOut:function(){return e.handleChangeMode(g.LOGIN)},showAbout:function(){e.setState({showAboutDialog:!0})}}),r.a.createElement(y,{aboutOpen:this.state.showAboutDialog,mode:this.state.mode,changeMode:this.handleChangeMode,menuOpen:this.state.menuOpen}),r.a.createElement(t,{setUserObjType:this.setUserObjType,menuOpen:this.state.menuOpen,mode:this.state.mode,changeMode:this.handleChangeMode,userObj:this.state.userObj,refreshOnUpdate:this.refreshOnUpdate}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.f9146414.chunk.js.map